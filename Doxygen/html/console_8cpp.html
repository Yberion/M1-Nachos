<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nachos: machine/console.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nachos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('console_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">console.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Routines to simulate a serial port to a console device.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="system_8hpp_source.html">kernel/system.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="machine_8hpp_source.html">machine/machine.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="console_8hpp_source.html">machine/console.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for console.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="console_8cpp__incl.png" border="0" usemap="#machine_2console_8cpp" alt=""/></div>
<map name="machine_2console_8cpp" id="machine_2console_8cpp">
<area shape="rect" title="Routines to simulate a serial port to a console device." alt="" coords="841,5,986,32"/>
<area shape="rect" href="system_8hpp.html" title="Global variables used in Nachos." alt="" coords="1226,677,1355,704"/>
<area shape="rect" href="machine_8hpp.html" title="Data structures to simulate the MIPS machine." alt="" coords="297,304,447,331"/>
<area shape="rect" href="console_8hpp.html" title="Data structures to simulate the behavior of a terminal." alt="" coords="841,80,986,107"/>
<area shape="rect" title=" " alt="" coords="1361,1051,1423,1077"/>
<area shape="rect" title=" " alt="" coords="1259,1051,1323,1077"/>
<area shape="rect" title=" " alt="" coords="1226,827,1273,853"/>
<area shape="rect" href="list_8hpp.html" title="Data structures to manage LISP&#45;like lists." alt="" coords="717,827,816,853"/>
<area shape="rect" href="objid_8hpp.html" title="Object identifier data structure." alt="" coords="1144,752,1253,779"/>
<area shape="rect" href="copyright_8hpp.html" title="Nachos copyright notice Copyright (c) 1992&#45;1993 The Regents of the University of California...." alt="" coords="509,1051,648,1077"/>
<area shape="rect" href="utility_8hpp.html" title="Miscellaneous useful definitions, including debugging routines." alt="" coords="893,901,1006,928"/>
<area shape="rect" title=" " alt="" coords="905,976,983,1003"/>
<area shape="rect" href="sysdep_8hpp.html" title="System&#45;dependent interface." alt="" coords="1110,976,1253,1003"/>
<area shape="rect" title=" " alt="" coords="1149,1051,1214,1077"/>
<area shape="rect" title=" " alt="" coords="401,379,466,405"/>
<area shape="rect" href="disk_8hpp.html" title="Data structures to emulate a physical disk." alt="" coords="417,827,541,853"/>
<area shape="rect" href="stats_8hpp.html" title="Data structures for gathering statistics about Nachos performance." alt="" coords="797,379,907,405"/>
<area shape="rect" href="translationtable_8hpp.html" title="Data structures for managing address translation." alt="" coords="366,603,554,629"/>
<area shape="rect" href="mmu_8hpp.html" title="Data structures for the MMU (Memory Management Unit)" alt="" coords="490,379,619,405"/>
<area shape="rect" href="ACIA_8hpp.html" title="Data Structures to emulate an ACIA device." alt="" coords="245,379,376,405"/>
<area shape="rect" href="interrupt_8hpp.html" title="Data structures to emulate low&#45;level interrupt hardware." alt="" coords="144,752,291,779"/>
<area shape="rect" href="config_8hpp.html" title="Data structures for setting up the Nachos hardware and software configuration." alt="" coords="643,453,759,480"/>
<area shape="rect" href="filesys_8hpp.html" title="Data structures to represent the Nachos file system." alt="" coords="637,528,763,555"/>
<area shape="rect" href="openfile_8hpp.html" title="Data structures to manipulate files." alt="" coords="895,603,1027,629"/>
<area shape="rect" href="synch_8hpp.html" title="Data structures for synchronizing threads." alt="" coords="853,155,974,181"/>
<area shape="rect" href="thread_8hpp.html" title="Data structures for managing threads." alt="" coords="981,229,1104,256"/>
<area shape="rect" href="process_8hpp.html" title="A process keeps track of the resources used by a running Nachos program." alt="" coords="847,304,979,331"/>
<area shape="rect" title=" " alt="" coords="1105,304,1188,331"/>
<area shape="rect" href="addrspace_8hpp.html" title="Data structures to keep track of the memory resources of executing user programs (address spaces)." alt="" coords="888,528,1035,555"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac78ee7a4831655966336afd530256cb3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="console_8cpp.html#ac78ee7a4831655966336afd530256cb3">ConsoleReadPoll</a> (int64_t c)</td></tr>
<tr class="memdesc:ac78ee7a4831655966336afd530256cb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dummy function because C++ is weird about pointers to member functions.  <a href="console_8cpp.html#ac78ee7a4831655966336afd530256cb3">More...</a><br /></td></tr>
<tr class="separator:ac78ee7a4831655966336afd530256cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45e0ec3e14c6514226a5d42c4e3f0e9f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="console_8cpp.html#a45e0ec3e14c6514226a5d42c4e3f0e9f">ConsoleWriteDone</a> (int64_t c)</td></tr>
<tr class="separator:a45e0ec3e14c6514226a5d42c4e3f0e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Routines to simulate a serial port to a console device. </p>
<p>A console has input (a keyboard) and output (a display). These are each simulated by operations on UNIX files. The simulated device is asynchronous, so we have to invoke the interrupt handler (after a simulated delay), to signal that a byte has arrived and/or that a written byte has departed. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ac78ee7a4831655966336afd530256cb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac78ee7a4831655966336afd530256cb3">&#9670;&nbsp;</a></span>ConsoleReadPoll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ConsoleReadPoll </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dummy function because C++ is weird about pointers to member functions. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="console_8cpp_ac78ee7a4831655966336afd530256cb3_cgraph.png" border="0" usemap="#console_8cpp_ac78ee7a4831655966336afd530256cb3_cgraph" alt=""/></div>
<map name="console_8cpp_ac78ee7a4831655966336afd530256cb3_cgraph" id="console_8cpp_ac78ee7a4831655966336afd530256cb3_cgraph">
<area shape="rect" title="Dummy function because C++ is weird about pointers to member functions." alt="" coords="5,56,127,83"/>
<area shape="rect" href="classConsole.html#a099797597b7bd0b349518aac215fcb2f" title=" " alt="" coords="175,56,343,83"/>
<area shape="rect" href="sysdep_8cpp.html#a6d54b43fc541aae810be164b449b331a" title=" " alt="" coords="423,5,489,32"/>
<area shape="rect" href="sysdep_8cpp.html#a6140dcc97ab52a9406e6d3f5749fa43c" title="Read characters from an open file. Abort if read fails." alt="" coords="430,56,482,83"/>
<area shape="rect" href="classInterrupt.html#ac403a14a9e41fa2b6dbd5c6056b87389" title="Print interrupt state." alt="" coords="391,107,521,133"/>
<area shape="rect" href="classMachine.html#a9a832bbd1f8e897619e8cb3ae01282ff" title="Write floating point code condition register." alt="" coords="581,5,720,32"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="617,56,685,83"/>
<area shape="rect" href="classStatistics.html#a77aec82b7adb8d795c850db96c82f5d8" title=" " alt="" coords="569,107,732,133"/>
<area shape="rect" href="classList.html#a7c94145ed3ab4115dd2a87e25eeadc91" title=" " alt="" coords="590,157,711,184"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="780,56,896,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="console_8cpp_ac78ee7a4831655966336afd530256cb3_icgraph.png" border="0" usemap="#console_8cpp_ac78ee7a4831655966336afd530256cb3_icgraph" alt=""/></div>
<map name="console_8cpp_ac78ee7a4831655966336afd530256cb3_icgraph" id="console_8cpp_ac78ee7a4831655966336afd530256cb3_icgraph">
<area shape="rect" title="Dummy function because C++ is weird about pointers to member functions." alt="" coords="1947,125,2068,152"/>
<area shape="rect" href="classConsole.html#a099797597b7bd0b349518aac215fcb2f" title=" " alt="" coords="1731,125,1899,152"/>
<area shape="rect" href="classConsole.html#a3891b014d1b9fccab374ed3b09a28052" title=" " alt="" coords="1733,176,1897,203"/>
<area shape="rect" href="classDriverConsole.html#a6e9663f1c449c24edfb77264375b03fc" title="Read characters from the console." alt="" coords="1519,176,1683,203"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,176,1471,203"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,75,1299,101"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,24,748,51"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,151,917,177"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,75,1080,101"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,24,917,51"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,24,537,51"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,24,387,51"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,24,192,51"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,189,727,216"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,240,724,267"/>
</map>
</div>

</div>
</div>
<a id="a45e0ec3e14c6514226a5d42c4e3f0e9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45e0ec3e14c6514226a5d42c4e3f0e9f">&#9670;&nbsp;</a></span>ConsoleWriteDone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ConsoleWriteDone </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="console_8cpp_a45e0ec3e14c6514226a5d42c4e3f0e9f_cgraph.png" border="0" usemap="#console_8cpp_a45e0ec3e14c6514226a5d42c4e3f0e9f_cgraph" alt=""/></div>
<map name="console_8cpp_a45e0ec3e14c6514226a5d42c4e3f0e9f_cgraph" id="console_8cpp_a45e0ec3e14c6514226a5d42c4e3f0e9f_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,136,32"/>
<area shape="rect" href="classConsole.html#a8a611e74235a39a9b7216b6d66e32c30" title=" " alt="" coords="184,5,323,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="console_8cpp_a45e0ec3e14c6514226a5d42c4e3f0e9f_icgraph.png" border="0" usemap="#console_8cpp_a45e0ec3e14c6514226a5d42c4e3f0e9f_icgraph" alt=""/></div>
<map name="console_8cpp_a45e0ec3e14c6514226a5d42c4e3f0e9f_icgraph" id="console_8cpp_a45e0ec3e14c6514226a5d42c4e3f0e9f_icgraph">
<area shape="rect" title=" " alt="" coords="2128,176,2259,203"/>
<area shape="rect" href="classConsole.html#af4828702d63f7f144e8d17395471b59f" title=" " alt="" coords="1956,176,2080,203"/>
<area shape="rect" href="classDriverConsole.html#a7cd25307953296dea6a255c0877155cb" title="Write a buffer on the console." alt="" coords="1745,176,1908,203"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,176,1471,203"/>
<area shape="rect" href="classSyscallError.html#a6b4121cb56f7f1a22890ba109ab2ef57" title=" " alt="" coords="1519,201,1697,228"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,75,1299,101"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,24,748,51"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,151,917,177"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,75,1080,101"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,24,917,51"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,24,537,51"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,24,387,51"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,24,192,51"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,189,727,216"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,277,724,304"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0909f4a7c39d3e9616c1c9d755842fcb.html">machine</a></li><li class="navelem"><a class="el" href="console_8cpp.html">console.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
