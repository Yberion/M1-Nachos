<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nachos: machine/sysdep.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nachos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sysdep_8hpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sysdep.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>System-dependent interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="copyright_8hpp_source.html">kernel/copyright.hpp</a>&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for sysdep.hpp:</div>
<div class="dyncontent">
<div class="center"><img src="sysdep_8hpp__incl.png" border="0" usemap="#machine_2sysdep_8hpp" alt=""/></div>
<map name="machine_2sysdep_8hpp" id="machine_2sysdep_8hpp">
<area shape="rect" title="System&#45;dependent interface." alt="" coords="171,5,314,32"/>
<area shape="rect" href="copyright_8hpp.html" title="Nachos copyright notice Copyright (c) 1992&#45;1993 The Regents of the University of California...." alt="" coords="5,80,144,107"/>
<area shape="rect" title=" " alt="" coords="168,80,232,107"/>
<area shape="rect" title=" " alt="" coords="256,80,317,107"/>
<area shape="rect" title=" " alt="" coords="342,80,407,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="sysdep_8hpp__dep__incl.png" border="0" usemap="#machine_2sysdep_8hppdep" alt=""/></div>
<map name="machine_2sysdep_8hppdep" id="machine_2sysdep_8hppdep">
<area shape="rect" title="System&#45;dependent interface." alt="" coords="2675,5,2818,32"/>
<area shape="rect" href="utility_8hpp.html" title="Miscellaneous useful definitions, including debugging routines." alt="" coords="2690,80,2803,107"/>
<area shape="rect" href="list_8hpp.html" title="Data structures to manage LISP&#45;like lists." alt="" coords="1308,155,1406,181"/>
<area shape="rect" href="thread_8hpp.html" title="Data structures for managing threads." alt="" coords="1412,752,1534,779"/>
<area shape="rect" href="fsmisc_8cpp.html" title="Miscellaneous routines for the Nachos file system." alt="" coords="2950,827,3076,853"/>
<area shape="rect" href="system_8cpp.html" title="Nachos initialization and cleanup routines." alt="" coords="1410,901,1539,928"/>
<area shape="rect" href="main_8cpp.html" title="Bootstrap code to initialize the operating system kernel." alt="" coords="122,827,237,853"/>
<area shape="rect" href="console_8hpp.html" title="Data structures to simulate the behavior of a terminal." alt="" coords="363,603,508,629"/>
<area shape="rect" href="drv_console_8hpp.html" title="Data structures to export a synchronous interface to the console device." alt="" coords="522,677,672,704"/>
<area shape="rect" href="openfile_8hpp.html" title="Data structures to manipulate files." alt="" coords="2627,379,2759,405"/>
<area shape="rect" href="stats_8hpp.html" title="Data structures for gathering statistics about Nachos performance." alt="" coords="2835,603,2946,629"/>
<area shape="rect" href="config_8cpp.html" title="Routines for setting up the Nachos hardware and software confuguration." alt="" coords="2523,752,2639,779"/>
<area shape="rect" href="directory_8cpp.html" title="Routines to manage a directory of file names." alt="" coords="3376,603,3514,629"/>
<area shape="rect" href="bitmap_8hpp.html" title="Data structures defining a bitmap." alt="" coords="2986,453,3107,480"/>
<area shape="rect" href="objid_8hpp.html" title="Object identifier data structure." alt="" coords="552,229,661,256"/>
<area shape="rect" href="disk_8hpp.html" title="Data structures to emulate a physical disk." alt="" coords="3131,453,3255,480"/>
<area shape="rect" href="translationtable_8hpp.html" title="Data structures for managing address translation" alt="" coords="2274,453,2462,480"/>
<area shape="rect" href="timer_8hpp.html" title="Data structures to emulate a hardware timer." alt="" coords="3908,229,4038,256"/>
<area shape="rect" href="utility_8cpp.html" title="Debugging routines." alt="" coords="4318,155,4431,181"/>
<area shape="rect" href="system_8hpp.html" title="Global variables used in Nachos." alt="" coords="1615,304,1744,331"/>
<area shape="rect" href="synch_8hpp.html" title="Data structures for synchronizing threads." alt="" coords="1094,528,1215,555"/>
<area shape="rect" href="phys_mem_8hpp.html" title="Data structures for the physical page management." alt="" coords="1251,827,1375,853"/>
<area shape="rect" href="addrspace_8hpp.html" title="Data structures to keep track of the memory resources of executing user programs (address spaces)." alt="" coords="1445,603,1592,629"/>
<area shape="rect" href="interrupt_8hpp.html" title="Data structures to emulate low&#45;level interrupt hardware." alt="" coords="3589,603,3736,629"/>
<area shape="rect" href="scheduler_8hpp.html" title="Defines the Nachos scheduler." alt="" coords="584,752,727,779"/>
<area shape="rect" href="addrspace_8cpp.html" title="Routines to manage address spaces (executing user programs)." alt="" coords="3094,901,3241,928"/>
<area shape="rect" href="scheduler_8cpp.html" title="Routines to choose the next thread to run, and to dispatch to that thread." alt="" coords="694,827,836,853"/>
<area shape="rect" href="disk_8cpp.html" title="Routines to simulate a physical disk device;." alt="" coords="3711,827,3835,853"/>
<area shape="rect" href="interrupt_8cpp.html" title="Routines to simulate hardware interrupts." alt="" coords="2081,827,2228,853"/>
<area shape="rect" href="mipssim_8cpp.html" title="simulate a MIPS R2/3000 processor" alt="" coords="1501,827,1650,853"/>
<area shape="rect" href="translationtable_8cpp.html" title="Data structures for address translation." alt="" coords="1726,827,1914,853"/>
<area shape="rect" href="exception_8cpp.html" title="Entry point into the Nachos kernel ." alt="" coords="854,752,996,779"/>
<area shape="rect" href="console_8cpp.html" title="Routines to simulate a serial port to a console device." alt="" coords="312,752,458,779"/>
<area shape="rect" href="openfile_8cpp.html" title="Routines to manage an open Nachos file" alt="" coords="2406,677,2538,704"/>
<area shape="rect" href="filesys_8cpp.html" title="Routines to manage the overall operation of the file system." alt="" coords="3357,677,3482,704"/>
<area shape="rect" href="_a_c_i_a_8cpp.html" title="Routines implementing an ACIA device." alt="" coords="3000,752,3130,779"/>
<area shape="rect" href="timer_8cpp.html" title="Routines to emulate a hardware timer device." alt="" coords="3307,752,3436,779"/>
<area shape="rect" href="stats_8cpp.html" title="Routines for managing statistics about Nachos performance." alt="" coords="2766,677,2876,704"/>
<area shape="rect" href="process_8hpp.html" title="A process keeps track of the resources used by a running Nachos program." alt="" coords="1416,677,1548,704"/>
<area shape="rect" href="thread_8cpp.html" title="Routines to manage threads." alt="" coords="973,827,1096,853"/>
<area shape="rect" href="drv_disk_8hpp.html" title="Data structures to export a synchronous interface to the raw disk device." alt="" coords="2224,603,2354,629"/>
<area shape="rect" href="oftable_8hpp.html" title="Data structure used to synchronize operations on files." alt="" coords="1819,603,1946,629"/>
<area shape="rect" href="pagefaultmanager_8cpp.html" title=" " alt="" coords="1216,901,1386,928"/>
<area shape="rect" href="swap_manager_8cpp.html" title="Routines of the swap manager." alt="" coords="2353,827,2500,853"/>
<area shape="rect" href="filesys_8hpp.html" title="Data structures to represent the Nachos file system." alt="" coords="3280,453,3405,480"/>
<area shape="rect" href="directory_8hpp.html" title="Data structures to manage a UNIX&#45;like directory of file names." alt="" coords="3597,528,3736,555"/>
<area shape="rect" href="config_8hpp.html" title="Data structures for setting up the Nachos hardware and software configuration." alt="" coords="2936,528,3052,555"/>
<area shape="rect" href="machine_8hpp.html" title="Data structures to simulate the MIPS machine." alt="" coords="2080,677,2229,704"/>
<area shape="rect" href="_a_c_i_a__sysdep_8cpp.html" title="Routines to simulate the system dependant part of an ACIA device." alt="" coords="3506,677,3685,704"/>
<area shape="rect" href="filehdr_8hpp.html" title="Data structures for managing a disk file header." alt="" coords="3178,528,3301,555"/>
</map>
</div>
</div>
<p><a href="sysdep_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a53104d3580cd5fb835fc4da2add88b2a"><td class="memItemLeft" align="right" valign="top"><a id="a53104d3580cd5fb835fc4da2add88b2a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ALIGN_INF</b>(val,  boundary)&#160;&#160;&#160;(int8_t*)(((unsigned long)val) &amp; (~(((unsigned long)boundary)-1)))</td></tr>
<tr class="separator:a53104d3580cd5fb835fc4da2add88b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16696926ef9537a56fd02ba3b8266127"><td class="memItemLeft" align="right" valign="top"><a id="a16696926ef9537a56fd02ba3b8266127"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ALIGN_SUP</b>(val,  boundary)&#160;&#160;&#160;(int8_t*)(((((unsigned long)val)-1) &amp; (~(((unsigned long)boundary)-1))) + ((unsigned long)boundary))</td></tr>
<tr class="separator:a16696926ef9537a56fd02ba3b8266127"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6d54b43fc541aae810be164b449b331a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a6d54b43fc541aae810be164b449b331a">PollFile</a> (int fd)</td></tr>
<tr class="separator:a6d54b43fc541aae810be164b449b331a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68068d69619efab5fe029a00b5114db9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a68068d69619efab5fe029a00b5114db9">OpenForWrite</a> (char *name)</td></tr>
<tr class="separator:a68068d69619efab5fe029a00b5114db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5cb68486a40540a7a3bd380e15d36d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#ab5cb68486a40540a7a3bd380e15d36d9">OpenForReadWrite</a> (char *name, bool crashOnError)</td></tr>
<tr class="separator:ab5cb68486a40540a7a3bd380e15d36d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6140dcc97ab52a9406e6d3f5749fa43c"><td class="memItemLeft" align="right" valign="top"><a id="a6140dcc97ab52a9406e6d3f5749fa43c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a6140dcc97ab52a9406e6d3f5749fa43c">Read</a> (int fd, char *buffer, int nBytes)</td></tr>
<tr class="memdesc:a6140dcc97ab52a9406e6d3f5749fa43c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read characters from an open file. Abort if read fails. <br /></td></tr>
<tr class="separator:a6140dcc97ab52a9406e6d3f5749fa43c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af39214b3fb93cfbbd141c2bfb0688a4e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#af39214b3fb93cfbbd141c2bfb0688a4e">ReadPartial</a> (int fd, char *buffer, int nBytes)</td></tr>
<tr class="separator:af39214b3fb93cfbbd141c2bfb0688a4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a423758a22b76ab4ab8dce5afd92b83cd"><td class="memItemLeft" align="right" valign="top"><a id="a423758a22b76ab4ab8dce5afd92b83cd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a423758a22b76ab4ab8dce5afd92b83cd">WriteFile</a> (int fd, char *buffer, int nBytes)</td></tr>
<tr class="memdesc:a423758a22b76ab4ab8dce5afd92b83cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write characters to an open file. Abort if write fails. <br /></td></tr>
<tr class="separator:a423758a22b76ab4ab8dce5afd92b83cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e24d90699a8caf5d5ecf0ea461050b4"><td class="memItemLeft" align="right" valign="top"><a id="a5e24d90699a8caf5d5ecf0ea461050b4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a5e24d90699a8caf5d5ecf0ea461050b4">Lseek</a> (int fd, int offset, int whence)</td></tr>
<tr class="memdesc:a5e24d90699a8caf5d5ecf0ea461050b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the location within an open file. Abort on error. <br /></td></tr>
<tr class="separator:a5e24d90699a8caf5d5ecf0ea461050b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a031f3b5d904def89e5f0cb71bcd31f91"><td class="memItemLeft" align="right" valign="top"><a id="a031f3b5d904def89e5f0cb71bcd31f91"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a031f3b5d904def89e5f0cb71bcd31f91">Tell</a> (int fd)</td></tr>
<tr class="memdesc:a031f3b5d904def89e5f0cb71bcd31f91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report the current location within an open file. <br /></td></tr>
<tr class="separator:a031f3b5d904def89e5f0cb71bcd31f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade6d4842f21ea284e126636e424e6614"><td class="memItemLeft" align="right" valign="top"><a id="ade6d4842f21ea284e126636e424e6614"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#ade6d4842f21ea284e126636e424e6614">Close</a> (int fd)</td></tr>
<tr class="memdesc:ade6d4842f21ea284e126636e424e6614"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a file. Abort on error. <br /></td></tr>
<tr class="separator:ade6d4842f21ea284e126636e424e6614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab677eb36a3f9c537674e00ea09c2260"><td class="memItemLeft" align="right" valign="top"><a id="aab677eb36a3f9c537674e00ea09c2260"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#aab677eb36a3f9c537674e00ea09c2260">Unlink</a> (char *name)</td></tr>
<tr class="memdesc:aab677eb36a3f9c537674e00ea09c2260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a file. <br /></td></tr>
<tr class="separator:aab677eb36a3f9c537674e00ea09c2260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a776b711cbcad75a385ef20d8cb04a907"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a776b711cbcad75a385ef20d8cb04a907">OpenSocket</a> ()</td></tr>
<tr class="separator:a776b711cbcad75a385ef20d8cb04a907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f43cc86f59a90746979f53a452a4e0a"><td class="memItemLeft" align="right" valign="top"><a id="a0f43cc86f59a90746979f53a452a4e0a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a0f43cc86f59a90746979f53a452a4e0a">CloseSocket</a> (int sockID)</td></tr>
<tr class="memdesc:a0f43cc86f59a90746979f53a452a4e0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the IPC connection. <br /></td></tr>
<tr class="separator:a0f43cc86f59a90746979f53a452a4e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4825f3e39317fcdec16fb44a93d59320"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a4825f3e39317fcdec16fb44a93d59320">AssignNameToSocket</a> (char *socketName, int sockID)</td></tr>
<tr class="separator:a4825f3e39317fcdec16fb44a93d59320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66da2ce40d5d8e2448f601be6569a248"><td class="memItemLeft" align="right" valign="top"><a id="a66da2ce40d5d8e2448f601be6569a248"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a66da2ce40d5d8e2448f601be6569a248">ReadFromSocket</a> (int sockID, char *buffer, int packetSize)</td></tr>
<tr class="memdesc:a66da2ce40d5d8e2448f601be6569a248"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a fixed size packet off the IPC port. Abort on error. <br /></td></tr>
<tr class="separator:a66da2ce40d5d8e2448f601be6569a248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91f029286166c36bd971120b2ec5e2cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a91f029286166c36bd971120b2ec5e2cd">SendToSocket</a> (int sockID, char *buffer, int packetSize, char *toName)</td></tr>
<tr class="separator:a91f029286166c36bd971120b2ec5e2cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12b9283f52eaf7610afe4b04fbca2ff0"><td class="memItemLeft" align="right" valign="top"><a id="a12b9283f52eaf7610afe4b04fbca2ff0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a12b9283f52eaf7610afe4b04fbca2ff0">Abort</a> ()</td></tr>
<tr class="memdesc:a12b9283f52eaf7610afe4b04fbca2ff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quit and drop core. <br /></td></tr>
<tr class="separator:a12b9283f52eaf7610afe4b04fbca2ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b9ef9330856c5a5a02f2d3ef0497e04"><td class="memItemLeft" align="right" valign="top"><a id="a8b9ef9330856c5a5a02f2d3ef0497e04"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a8b9ef9330856c5a5a02f2d3ef0497e04">Exit</a> (int exitCode)</td></tr>
<tr class="memdesc:a8b9ef9330856c5a5a02f2d3ef0497e04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quit without dropping core. <br /></td></tr>
<tr class="separator:a8b9ef9330856c5a5a02f2d3ef0497e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20cfb7568775ef01bd7c43ee8051495c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a20cfb7568775ef01bd7c43ee8051495c">Delay</a> (int seconds)</td></tr>
<tr class="separator:a20cfb7568775ef01bd7c43ee8051495c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b7e2768d527868344abcf22f9fefe6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a87b7e2768d527868344abcf22f9fefe6">CallOnUserAbort</a> (VoidNoArgFunctionPtr cleanUp)</td></tr>
<tr class="separator:a87b7e2768d527868344abcf22f9fefe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae08b1beb5fa6e506cd63a2637f34e912"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#ae08b1beb5fa6e506cd63a2637f34e912">RandomInit</a> (unsigned seed)</td></tr>
<tr class="separator:ae08b1beb5fa6e506cd63a2637f34e912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac8c6c00a0e52489ecf8e8a6d9eba228"><td class="memItemLeft" align="right" valign="top"><a id="aac8c6c00a0e52489ecf8e8a6d9eba228"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#aac8c6c00a0e52489ecf8e8a6d9eba228">Random</a> ()</td></tr>
<tr class="memdesc:aac8c6c00a0e52489ecf8e8a6d9eba228"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a pseudo-random number. <br /></td></tr>
<tr class="separator:aac8c6c00a0e52489ecf8e8a6d9eba228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c00955f3f1aa5f3c4a358778ef536d"><td class="memItemLeft" align="right" valign="top">int8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a91c00955f3f1aa5f3c4a358778ef536d">AllocBoundedArray</a> (size_t size)</td></tr>
<tr class="separator:a91c00955f3f1aa5f3c4a358778ef536d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e08e009933185bc98f3257ac0e775ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sysdep_8hpp.html#a7e08e009933185bc98f3257ac0e775ec">DeallocBoundedArray</a> (int8_t *p, size_t size)</td></tr>
<tr class="separator:a7e08e009933185bc98f3257ac0e775ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>System-dependent interface. </p>
<pre class="fragment"> Nachos uses the routines defined
</pre><p> here, rather than directly calling the UNIX library functions, to simplify porting between versions of UNIX, and even to other systems, such as MSDOS and the Macintosh.</p>
<p>Copyright (c) 1992-1993 The Regents of the University of California. All rights reserved. See <a class="el" href="copyright_8hpp.html" title="Nachos copyright notice Copyright (c) 1992-1993 The Regents of the University of California....">copyright.hpp</a> for copyright notice and limitation of liability and disclaimer of warranty provisions. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a91c00955f3f1aa5f3c4a358778ef536d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c00955f3f1aa5f3c4a358778ef536d">&#9670;&nbsp;</a></span>AllocBoundedArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t* AllocBoundedArray </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return an array, with the two pages just before and after the array unmapped, to catch illegal references off the end of the array. Particularly useful for catching overflow beyond fixed-size thread execution stacks.</p>
<p>Note: Just return the useful part! Makes sure that protected pages are on page size boundaries Assumes that the requested size is a multiple of page size (to be fixed)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>amount of useful space needed (in bytes) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4825f3e39317fcdec16fb44a93d59320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4825f3e39317fcdec16fb44a93d59320">&#9670;&nbsp;</a></span>AssignNameToSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AssignNameToSocket </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>socketName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sockID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Give a UNIX file name to the IPC port, so other instances of Nachos can locate the port. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sysdep_8hpp_a4825f3e39317fcdec16fb44a93d59320_cgraph.png" border="0" usemap="#sysdep_8hpp_a4825f3e39317fcdec16fb44a93d59320_cgraph" alt=""/></div>
<map name="sysdep_8hpp_a4825f3e39317fcdec16fb44a93d59320_cgraph" id="sysdep_8hpp_a4825f3e39317fcdec16fb44a93d59320_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,156,32"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="204,5,272,32"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="320,5,436,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sysdep_8hpp_a4825f3e39317fcdec16fb44a93d59320_icgraph.png" border="0" usemap="#sysdep_8hpp_a4825f3e39317fcdec16fb44a93d59320_icgraph" alt=""/></div>
<map name="sysdep_8hpp_a4825f3e39317fcdec16fb44a93d59320_icgraph" id="sysdep_8hpp_a4825f3e39317fcdec16fb44a93d59320_icgraph">
<area shape="rect" title=" " alt="" coords="241,5,392,32"/>
<area shape="rect" href="class_a_c_i_a__sysdep.html#a416e3e5806902fe006296fb5e283d9b7" title=" " alt="" coords="5,5,193,32"/>
</map>
</div>

</div>
</div>
<a id="a87b7e2768d527868344abcf22f9fefe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87b7e2768d527868344abcf22f9fefe6">&#9670;&nbsp;</a></span>CallOnUserAbort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CallOnUserAbort </td>
          <td>(</td>
          <td class="paramtype">VoidNoArgFunctionPtr&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Arrange that "func" will be called when the user aborts (e.g., by hitting ctl-C. </p>

</div>
</div>
<a id="a7e08e009933185bc98f3257ac0e775ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e08e009933185bc98f3257ac0e775ec">&#9670;&nbsp;</a></span>DeallocBoundedArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DeallocBoundedArray </td>
          <td>(</td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deallocate an array of integers, unprotecting its two boundary pages.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>the array to be deallocated </td></tr>
    <tr><td class="paramname">size</td><td>amount of useful space in the array (in bytes) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a20cfb7568775ef01bd7c43ee8051495c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20cfb7568775ef01bd7c43ee8051495c">&#9670;&nbsp;</a></span>Delay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Delay </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>seconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Put the UNIX process running Nachos to sleep for x seconds, to give the user time to start up another invocation of Nachos in a different UNIX shell. </p>

</div>
</div>
<a id="ab5cb68486a40540a7a3bd380e15d36d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5cb68486a40540a7a3bd380e15d36d9">&#9670;&nbsp;</a></span>OpenForReadWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OpenForReadWrite </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>crashOnError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a file for reading or writing. Return the file descriptor, or error if it doesn't exist.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>file name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a68068d69619efab5fe029a00b5114db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68068d69619efab5fe029a00b5114db9">&#9670;&nbsp;</a></span>OpenForWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OpenForWrite </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a file for writing. Create it if it doesn't exist; truncate it if it does already exist. Return the file descriptor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>file name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>file descriptor </dd></dl>

</div>
</div>
<a id="a776b711cbcad75a385ef20d8cb04a907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a776b711cbcad75a385ef20d8cb04a907">&#9670;&nbsp;</a></span>OpenSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OpenSocket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open an interprocess communication (IPC) connection. For now, just open a datagram port where other Nachos (simulating workstations on a network) can send messages to this Nachos. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sysdep_8hpp_a776b711cbcad75a385ef20d8cb04a907_icgraph.png" border="0" usemap="#sysdep_8hpp_a776b711cbcad75a385ef20d8cb04a907_icgraph" alt=""/></div>
<map name="sysdep_8hpp_a776b711cbcad75a385ef20d8cb04a907_icgraph" id="sysdep_8hpp_a776b711cbcad75a385ef20d8cb04a907_icgraph">
<area shape="rect" title=" " alt="" coords="241,5,336,32"/>
<area shape="rect" href="class_a_c_i_a__sysdep.html#a416e3e5806902fe006296fb5e283d9b7" title=" " alt="" coords="5,5,193,32"/>
</map>
</div>

</div>
</div>
<a id="a6d54b43fc541aae810be164b449b331a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d54b43fc541aae810be164b449b331a">&#9670;&nbsp;</a></span>PollFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PollFile </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check open file or open socket to see if there are any characters that can be read immediately. If so, read them in, and return true.</p>
<p>In the <a class="el" href="class_a_c_i_a.html" title="Defines an ACIA (Asynchronous Communication Interface Adapter) device. An ACIA is an asynchronous dev...">ACIA</a> case, if there are no threads for us to run, and no characters to be read, we need to give the other side a chance to get our host's CPU (otherwise, we'll go really slowly, since UNIX time-slices infrequently, and this would be like busy-waiting). So we delay for a short fixed time, before allowing ourselves to be re-scheduled (sort of like a Yield, but cast in terms of UNIX).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>the file descriptor of the file to be polled </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae08b1beb5fa6e506cd63a2637f34e912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae08b1beb5fa6e506cd63a2637f34e912">&#9670;&nbsp;</a></span>RandomInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RandomInit </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>seed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the pseudo-random number generator. We use the now obsolete "srand" and "rand" because they are more portable! </p>

</div>
</div>
<a id="af39214b3fb93cfbbd141c2bfb0688a4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af39214b3fb93cfbbd141c2bfb0688a4e">&#9670;&nbsp;</a></span>ReadPartial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ReadPartial </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read characters from an open file, returning as many as are available. </p>

</div>
</div>
<a id="a91f029286166c36bd971120b2ec5e2cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91f029286166c36bd971120b2ec5e2cd">&#9670;&nbsp;</a></span>SendToSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendToSocket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sockID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>packetSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>toName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transmit a fixed size packet to another Nachos' IPC port. Abort on error. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sysdep_8hpp_a91f029286166c36bd971120b2ec5e2cd_icgraph.png" border="0" usemap="#sysdep_8hpp_a91f029286166c36bd971120b2ec5e2cd_icgraph" alt=""/></div>
<map name="sysdep_8hpp_a91f029286166c36bd971120b2ec5e2cd_icgraph" id="sysdep_8hpp_a91f029286166c36bd971120b2ec5e2cd_icgraph">
<area shape="rect" title=" " alt="" coords="229,5,336,32"/>
<area shape="rect" href="class_a_c_i_a__sysdep.html#a7f6f7599ca58468142463a52f58b708b" title=" " alt="" coords="5,5,181,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0909f4a7c39d3e9616c1c9d755842fcb.html">machine</a></li><li class="navelem"><a class="el" href="sysdep_8hpp.html">sysdep.hpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
