<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nachos: Console Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nachos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_console.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_console-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Console Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines a hardware console device.  
 <a href="class_console.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="console_8hpp_source.html">console.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad4674aad0a15f3ad69591042889053dd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#ad4674aad0a15f3ad69591042889053dd">Console</a> (char *readFile, char *writeFile, VoidNoArgFunctionPtr readAvail, VoidNoArgFunctionPtr writeDone)</td></tr>
<tr class="separator:ad4674aad0a15f3ad69591042889053dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e8c79c8579b1b076e53848c540d4e7"><td class="memItemLeft" align="right" valign="top"><a id="a32e8c79c8579b1b076e53848c540d4e7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#a32e8c79c8579b1b076e53848c540d4e7">~Console</a> ()</td></tr>
<tr class="memdesc:a32e8c79c8579b1b076e53848c540d4e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. Clean up console emulation. <br /></td></tr>
<tr class="separator:a32e8c79c8579b1b076e53848c540d4e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4828702d63f7f144e8d17395471b59f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#af4828702d63f7f144e8d17395471b59f">PutChar</a> (char ch)</td></tr>
<tr class="separator:af4828702d63f7f144e8d17395471b59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2f18e347f92c0a1f3d8a4b86b024d9"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#aee2f18e347f92c0a1f3d8a4b86b024d9">GetChar</a> ()</td></tr>
<tr class="separator:aee2f18e347f92c0a1f3d8a4b86b024d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3891b014d1b9fccab374ed3b09a28052"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#a3891b014d1b9fccab374ed3b09a28052">EnableInterrupt</a> ()</td></tr>
<tr class="separator:a3891b014d1b9fccab374ed3b09a28052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac469fd50c021374fb7a65dfd45b81ddf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#ac469fd50c021374fb7a65dfd45b81ddf">DisableInterrupt</a> ()</td></tr>
<tr class="separator:ac469fd50c021374fb7a65dfd45b81ddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a611e74235a39a9b7216b6d66e32c30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#a8a611e74235a39a9b7216b6d66e32c30">WriteDone</a> ()</td></tr>
<tr class="separator:a8a611e74235a39a9b7216b6d66e32c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a099797597b7bd0b349518aac215fcb2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#a099797597b7bd0b349518aac215fcb2f">CheckCharAvail</a> ()</td></tr>
<tr class="separator:a099797597b7bd0b349518aac215fcb2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines a hardware console device. </p>
<p>Input and output to the device is simulated by reading and writing to UNIX files ("readFile" and "writeFile").</p>
<p>Since the device is asynchronous, the console "read" interrupt handler is called when a character has arrived, ready to be read in. The console "write" interrupt handler is called when an output character has been "put", so that the next character can be written. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad4674aad0a15f3ad69591042889053dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4674aad0a15f3ad69591042889053dd">&#9670;&nbsp;</a></span>Console()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Console::Console </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>readFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>writeFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VoidNoArgFunctionPtr&#160;</td>
          <td class="paramname"><em>readAvail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VoidNoArgFunctionPtr&#160;</td>
          <td class="paramname"><em>writeDone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor. Initialize the simulation of a hardware console device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">readFile</td><td>UNIX file simulating the keyboard (NULL -&gt; use stdin) </td></tr>
    <tr><td class="paramname">writeFile</td><td>UNIX file simulating the display (NULL -&gt; use stdout) </td></tr>
    <tr><td class="paramname">readAvail</td><td>is the interrupt handler called when a character arrives from the keyboard </td></tr>
    <tr><td class="paramname">writeDone</td><td>is the interrupt handler called when a character has been output, so that it is ok to request the next char be output </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a099797597b7bd0b349518aac215fcb2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a099797597b7bd0b349518aac215fcb2f">&#9670;&nbsp;</a></span>CheckCharAvail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Console::CheckCharAvail </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Periodically called to check if a character is available for input from the simulated keyboard (eg, has it been typed?).</p>
<p>Only read it in if there is buffer space for it (if the previous character has been grabbed out of the buffer by the Nachos kernel). Invoke the "read" interrupt handler, once the character has been put into the buffer. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_console_a099797597b7bd0b349518aac215fcb2f_cgraph.png" border="0" usemap="#class_console_a099797597b7bd0b349518aac215fcb2f_cgraph" alt=""/></div>
<map name="class_console_a099797597b7bd0b349518aac215fcb2f_cgraph" id="class_console_a099797597b7bd0b349518aac215fcb2f_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,173,32"/>
<area shape="rect" href="class_interrupt.html#ac403a14a9e41fa2b6dbd5c6056b87389" title="by the hardware device simulators." alt="" coords="221,5,352,32"/>
</map>
</div>

</div>
</div>
<a id="ac469fd50c021374fb7a65dfd45b81ddf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac469fd50c021374fb7a65dfd45b81ddf">&#9670;&nbsp;</a></span>DisableInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Console::DisableInterrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disable the console interrupt </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_console_ac469fd50c021374fb7a65dfd45b81ddf_icgraph.png" border="0" usemap="#class_console_ac469fd50c021374fb7a65dfd45b81ddf_icgraph" alt=""/></div>
<map name="class_console_ac469fd50c021374fb7a65dfd45b81ddf_icgraph" id="class_console_ac469fd50c021374fb7a65dfd45b81ddf_icgraph">
<area shape="rect" title=" " alt="" coords="217,5,384,32"/>
<area shape="rect" href="class_driver_console.html#a6e9663f1c449c24edfb77264375b03fc" title=" " alt="" coords="5,5,169,32"/>
</map>
</div>

</div>
</div>
<a id="a3891b014d1b9fccab374ed3b09a28052"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3891b014d1b9fccab374ed3b09a28052">&#9670;&nbsp;</a></span>EnableInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Console::EnableInterrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable the console interrupt </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_console_a3891b014d1b9fccab374ed3b09a28052_cgraph.png" border="0" usemap="#class_console_a3891b014d1b9fccab374ed3b09a28052_cgraph" alt=""/></div>
<map name="class_console_a3891b014d1b9fccab374ed3b09a28052_cgraph" id="class_console_a3891b014d1b9fccab374ed3b09a28052_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,169,32"/>
<area shape="rect" href="class_interrupt.html#ac403a14a9e41fa2b6dbd5c6056b87389" title="by the hardware device simulators." alt="" coords="217,5,348,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_console_a3891b014d1b9fccab374ed3b09a28052_icgraph.png" border="0" usemap="#class_console_a3891b014d1b9fccab374ed3b09a28052_icgraph" alt=""/></div>
<map name="class_console_a3891b014d1b9fccab374ed3b09a28052_icgraph" id="class_console_a3891b014d1b9fccab374ed3b09a28052_icgraph">
<area shape="rect" title=" " alt="" coords="217,5,381,32"/>
<area shape="rect" href="class_driver_console.html#a6e9663f1c449c24edfb77264375b03fc" title=" " alt="" coords="5,5,169,32"/>
</map>
</div>

</div>
</div>
<a id="aee2f18e347f92c0a1f3d8a4b86b024d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2f18e347f92c0a1f3d8a4b86b024d9">&#9670;&nbsp;</a></span>GetChar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char Console::GetChar </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a character from the input buffer, if there is any there. Either return the character, or EOF if none buffered. </p><dl class="section return"><dt>Returns</dt><dd>read character </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_console_aee2f18e347f92c0a1f3d8a4b86b024d9_icgraph.png" border="0" usemap="#class_console_aee2f18e347f92c0a1f3d8a4b86b024d9_icgraph" alt=""/></div>
<map name="class_console_aee2f18e347f92c0a1f3d8a4b86b024d9_icgraph" id="class_console_aee2f18e347f92c0a1f3d8a4b86b024d9_icgraph">
<area shape="rect" title=" " alt="" coords="217,5,343,32"/>
<area shape="rect" href="class_driver_console.html#a6e9663f1c449c24edfb77264375b03fc" title=" " alt="" coords="5,5,169,32"/>
</map>
</div>

</div>
</div>
<a id="af4828702d63f7f144e8d17395471b59f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4828702d63f7f144e8d17395471b59f">&#9670;&nbsp;</a></span>PutChar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Console::PutChar </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a character to the simulated display, schedule an interrupt to occur in the future, and return. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_console_af4828702d63f7f144e8d17395471b59f_cgraph.png" border="0" usemap="#class_console_af4828702d63f7f144e8d17395471b59f_cgraph" alt=""/></div>
<map name="class_console_af4828702d63f7f144e8d17395471b59f_cgraph" id="class_console_af4828702d63f7f144e8d17395471b59f_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,129,57"/>
<area shape="rect" href="class_interrupt.html#ac403a14a9e41fa2b6dbd5c6056b87389" title="by the hardware device simulators." alt="" coords="177,5,308,32"/>
<area shape="rect" href="sysdep_8cpp.html#a423758a22b76ab4ab8dce5afd92b83cd" title="Write characters to an open file. Abort if write fails." alt="" coords="205,56,280,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_console_af4828702d63f7f144e8d17395471b59f_icgraph.png" border="0" usemap="#class_console_af4828702d63f7f144e8d17395471b59f_icgraph" alt=""/></div>
<map name="class_console_af4828702d63f7f144e8d17395471b59f_icgraph" id="class_console_af4828702d63f7f144e8d17395471b59f_icgraph">
<area shape="rect" title=" " alt="" coords="443,5,567,32"/>
<area shape="rect" href="class_driver_console.html#a7cd25307953296dea6a255c0877155cb" title=" " alt="" coords="232,5,395,32"/>
<area shape="rect" href="class_syscall_error.html#a6b4121cb56f7f1a22890ba109ab2ef57" title=" " alt="" coords="5,5,184,32"/>
</map>
</div>

</div>
</div>
<a id="a8a611e74235a39a9b7216b6d66e32c30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a611e74235a39a9b7216b6d66e32c30">&#9670;&nbsp;</a></span>WriteDone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Console::WriteDone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Internal routine called when it is time to invoke the interrupt handler to tell the Nachos kernel that the output character has completed. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>machine/<a class="el" href="console_8hpp_source.html">console.hpp</a></li>
<li>machine/<a class="el" href="console_8cpp.html">console.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_console.html">Console</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
