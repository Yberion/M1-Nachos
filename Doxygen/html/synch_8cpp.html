<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nachos: kernel/synch.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nachos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('synch_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">synch.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Routines for synchronizing threads. <br  />
  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="system_8hpp_source.html">kernel/system.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="scheduler_8hpp_source.html">kernel/scheduler.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="synch_8hpp_source.html">kernel/synch.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for synch.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="synch_8cpp__incl.png" border="0" usemap="#kernel_2synch_8cpp" alt=""/></div>
<map name="kernel_2synch_8cpp" id="kernel_2synch_8cpp">
<area shape="rect" title="Routines for synchronizing threads." alt="" coords="955,5,1077,32"/>
<area shape="rect" href="system_8hpp.html" title="Global variables used in Nachos." alt="" coords="1347,603,1477,629"/>
<area shape="rect" href="scheduler_8hpp.html" title="Defines the Nachos scheduler." alt="" coords="43,677,186,704"/>
<area shape="rect" href="synch_8hpp.html" title="Data structures for synchronizing threads." alt="" coords="955,80,1077,107"/>
<area shape="rect" title=" " alt="" coords="1543,976,1604,1003"/>
<area shape="rect" title=" " alt="" coords="1440,976,1504,1003"/>
<area shape="rect" title=" " alt="" coords="1373,752,1419,779"/>
<area shape="rect" href="list_8hpp.html" title="Data structures to manage LISP&#45;like lists." alt="" coords="799,752,897,779"/>
<area shape="rect" href="objid_8hpp.html" title="Object identifier data structure." alt="" coords="1291,677,1400,704"/>
<area shape="rect" href="copyright_8hpp.html" title="Nachos copyright notice Copyright (c) 1992&#45;1993 The Regents of the University of California...." alt="" coords="627,976,765,1003"/>
<area shape="rect" href="utility_8hpp.html" title="Miscellaneous useful definitions, including debugging routines." alt="" coords="895,827,1009,853"/>
<area shape="rect" title=" " alt="" coords="913,901,991,928"/>
<area shape="rect" href="sysdep_8hpp.html" title="System&#45;dependent interface." alt="" coords="1291,901,1434,928"/>
<area shape="rect" title=" " alt="" coords="1330,976,1395,1003"/>
<area shape="rect" href="thread_8hpp.html" title="Data structures for managing threads." alt="" coords="955,155,1077,181"/>
<area shape="rect" href="machine_8hpp.html" title="Data structures to simulate the MIPS machine." alt="" coords="445,229,595,256"/>
<area shape="rect" href="stats_8hpp.html" title="Data structures for gathering statistics about Nachos performance." alt="" coords="918,304,1029,331"/>
<area shape="rect" href="process_8hpp.html" title="A process keeps track of the resources used by a running Nachos program." alt="" coords="1105,229,1237,256"/>
<area shape="rect" title=" " alt="" coords="896,229,979,256"/>
<area shape="rect" title=" " alt="" coords="417,304,482,331"/>
<area shape="rect" href="disk_8hpp.html" title="Data structures to emulate a physical disk." alt="" coords="534,752,658,779"/>
<area shape="rect" href="translationtable_8hpp.html" title="Data structures for managing address translation" alt="" coords="475,528,663,555"/>
<area shape="rect" href="mmu_8hpp.html" title="Data structures for the MMU (Memory Management Unit)" alt="" coords="558,304,687,331"/>
<area shape="rect" href="_a_c_i_a_8hpp.html" title="Data Structures to emulate an ACIA device." alt="" coords="712,304,843,331"/>
<area shape="rect" href="interrupt_8hpp.html" title="Data structures to emulate low&#45;level interrupt hardware." alt="" coords="261,677,408,704"/>
<area shape="rect" href="config_8hpp.html" title="Data structures for setting up the Nachos hardware and software configuration." alt="" coords="730,379,846,405"/>
<area shape="rect" href="filesys_8hpp.html" title="Data structures to represent the Nachos file system." alt="" coords="723,453,848,480"/>
<area shape="rect" href="openfile_8hpp.html" title="Data structures to manipulate files." alt="" coords="1089,528,1221,555"/>
<area shape="rect" href="addrspace_8hpp.html" title="Data structures to keep track of the memory resources of executing user programs (address spaces)." alt="" coords="1024,453,1171,480"/>
</map>
</div>
</div><a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Routines for synchronizing threads. <br  />
 </p>
<p>Three kinds of synchronization routines are defined here: semaphores, locks and condition variables.</p>
<p>Any implementation of a synchronization routine needs some primitive atomic operation. We assume Nachos is running on a uniprocessor, and thus atomicity can be provided by turning off interrupts. While interrupts are disabled, no context switch can occur, and thus the current thread is guaranteed to hold the CPU throughout, until interrupts are reenabled.</p>
<p>Because some of these routines might be called with interrupts already disabled (<a class="el" href="class_semaphore.html#a3e42125b95660ef696d0d0069b804343">Semaphore::V</a> for one), instead of turning on interrupts at the end of the atomic operation, we always simply re-set the interrupt state back to its original value (whether that be disabled or enabled). </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="synch_8cpp.html">synch.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
