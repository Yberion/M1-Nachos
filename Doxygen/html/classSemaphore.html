<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nachos: Semaphore Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nachos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classSemaphore.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classSemaphore-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Semaphore Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines the "semaphore" synchronization tool.  
 <a href="classSemaphore.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="synch_8hpp_source.html">synch.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for Semaphore:</div>
<div class="dyncontent">
<div class="center"><img src="classSemaphore__coll__graph.png" border="0" usemap="#Semaphore_coll__map" alt="Collaboration graph"/></div>
<map name="Semaphore_coll__map" id="Semaphore_coll__map">
<area shape="rect" title="Defines the &quot;semaphore&quot; synchronization tool." alt="" coords="11,321,127,487"/>
<area shape="rect" href="classList.html" title="Definition of a generic single&#45;linked &quot;list&quot;." alt="" coords="5,5,132,259"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1d359ecdd39eacb4a8ac9b274eacf15c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSemaphore.html#a1d359ecdd39eacb4a8ac9b274eacf15c">Semaphore</a> (char *debugName, int initialValue)</td></tr>
<tr class="memdesc:a1d359ecdd39eacb4a8ac9b274eacf15c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and set initial value.  <a href="classSemaphore.html#a1d359ecdd39eacb4a8ac9b274eacf15c">More...</a><br /></td></tr>
<tr class="separator:a1d359ecdd39eacb4a8ac9b274eacf15c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633658a6fde276bffc912028725c6ade"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSemaphore.html#a633658a6fde276bffc912028725c6ade">~Semaphore</a> ()</td></tr>
<tr class="memdesc:a633658a6fde276bffc912028725c6ade"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete semaphore.  <a href="classSemaphore.html#a633658a6fde276bffc912028725c6ade">More...</a><br /></td></tr>
<tr class="separator:a633658a6fde276bffc912028725c6ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f7bb209b379142e8dbb41e2b2428773"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSemaphore.html#a4f7bb209b379142e8dbb41e2b2428773">getName</a> ()</td></tr>
<tr class="memdesc:a4f7bb209b379142e8dbb41e2b2428773"><td class="mdescLeft">&#160;</td><td class="mdescRight">debugging assist  <a href="classSemaphore.html#a4f7bb209b379142e8dbb41e2b2428773">More...</a><br /></td></tr>
<tr class="separator:a4f7bb209b379142e8dbb41e2b2428773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fee22da0205e3c704b08beaa17e0e7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSemaphore.html#a4fee22da0205e3c704b08beaa17e0e7a">P</a> ()</td></tr>
<tr class="separator:a4fee22da0205e3c704b08beaa17e0e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e42125b95660ef696d0d0069b804343"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSemaphore.html#a3e42125b95660ef696d0d0069b804343">V</a> ()</td></tr>
<tr class="separator:a3e42125b95660ef696d0d0069b804343"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aaa0378188c50d28e06b314327f362b64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="system_8hpp.html#a842c5e2e69277690b064bf363c017980">ObjectType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSemaphore.html#aaa0378188c50d28e06b314327f362b64">type</a></td></tr>
<tr class="memdesc:aaa0378188c50d28e06b314327f362b64"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt; Object type, for validity checks during system calls (must be the first public field)  <a href="classSemaphore.html#aaa0378188c50d28e06b314327f362b64">More...</a><br /></td></tr>
<tr class="separator:aaa0378188c50d28e06b314327f362b64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:abacd94dfabb321408c2b36f570ff3249"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSemaphore.html#abacd94dfabb321408c2b36f570ff3249">name</a></td></tr>
<tr class="memdesc:abacd94dfabb321408c2b36f570ff3249"><td class="mdescLeft">&#160;</td><td class="mdescRight">useful for debugging  <a href="classSemaphore.html#abacd94dfabb321408c2b36f570ff3249">More...</a><br /></td></tr>
<tr class="separator:abacd94dfabb321408c2b36f570ff3249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951b9b5b03dd295a2cd1b193e03c03f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSemaphore.html#a951b9b5b03dd295a2cd1b193e03c03f6">value</a></td></tr>
<tr class="memdesc:a951b9b5b03dd295a2cd1b193e03c03f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">semaphore value  <a href="classSemaphore.html#a951b9b5b03dd295a2cd1b193e03c03f6">More...</a><br /></td></tr>
<tr class="separator:a951b9b5b03dd295a2cd1b193e03c03f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00bdb8f466a81c56e823f616e66fecbd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="list_8hpp.html#aa84599d07605fa9c90fc73ac57c58635">Listint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSemaphore.html#a00bdb8f466a81c56e823f616e66fecbd">queue</a></td></tr>
<tr class="memdesc:a00bdb8f466a81c56e823f616e66fecbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">threads waiting in <a class="el" href="classSemaphore.html#a4fee22da0205e3c704b08beaa17e0e7a">P()</a> for the value to be &gt; 0  <a href="classSemaphore.html#a00bdb8f466a81c56e823f616e66fecbd">More...</a><br /></td></tr>
<tr class="separator:a00bdb8f466a81c56e823f616e66fecbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines the "semaphore" synchronization tool. </p>
<p>The semaphore has only two operations <a class="el" href="classSemaphore.html#a4fee22da0205e3c704b08beaa17e0e7a">P()</a> and <a class="el" href="classSemaphore.html#a3e42125b95660ef696d0d0069b804343">V()</a>:</p>
<p><a class="el" href="classSemaphore.html#a4fee22da0205e3c704b08beaa17e0e7a">P()</a> &ndash; decrement, then wait if the value becomes &lt; 0</p>
<p><a class="el" href="classSemaphore.html#a3e42125b95660ef696d0d0069b804343">V()</a> &ndash; increment, waking up a thread waiting in <a class="el" href="classSemaphore.html#a4fee22da0205e3c704b08beaa17e0e7a">P()</a> if necessary</p>
<p>Note that the interface does <em>not</em> allow a thread to read the value of the semaphore directly &ndash; even if you did read the value, the only thing you would know is what the value used to be. You don't know what the value is now, because by the time you get the value into a register, a context switch might have occurred, and some other thread might have called P or V, so the true value might now be different. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1d359ecdd39eacb4a8ac9b274eacf15c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d359ecdd39eacb4a8ac9b274eacf15c">&#9670;&nbsp;</a></span>Semaphore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Semaphore::Semaphore </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>debugName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>initialValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create and set initial value. </p>
<p>Initializes a semaphore, so that it can be used for synchronization.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">debugName</td><td>is an arbitrary name, useful for debugging only. </td></tr>
    <tr><td class="paramname">initialValue</td><td>is the initial value of the semaphore. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a633658a6fde276bffc912028725c6ade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a633658a6fde276bffc912028725c6ade">&#9670;&nbsp;</a></span>~Semaphore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Semaphore::~Semaphore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete semaphore. </p>
<p>De-allocates a semaphore, when no longer needed. Assume no one is still waiting on the semaphore! </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classSemaphore_a633658a6fde276bffc912028725c6ade_cgraph.png" border="0" usemap="#classSemaphore_a633658a6fde276bffc912028725c6ade_cgraph" alt=""/></div>
<map name="classSemaphore_a633658a6fde276bffc912028725c6ade_cgraph" id="classSemaphore_a633658a6fde276bffc912028725c6ade_cgraph">
<area shape="rect" title="Delete semaphore." alt="" coords="5,107,176,133"/>
<area shape="rect" href="classList.html#a3d4805c0e563fd485273fc90a4b69e94" title=" " alt="" coords="239,5,333,32"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="252,56,320,83"/>
<area shape="rect" href="classThread.html#a83fedc586ce3718a4a2322f497dcfe2d" title="Returns the thread name." alt="" coords="224,107,348,133"/>
<area shape="rect" href="classList.html#ad07725e21c5868fadf1f4a5a81c1fd3a" title=" " alt="" coords="237,157,335,184"/>
<area shape="rect" href="classList.html#a297a131df05eba81e89f5f7d0039cb30" title=" " alt="" coords="237,208,335,235"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="396,56,512,83"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4f7bb209b379142e8dbb41e2b2428773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f7bb209b379142e8dbb41e2b2428773">&#9670;&nbsp;</a></span>getName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* Semaphore::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>debugging assist </p>

</div>
</div>
<a id="a4fee22da0205e3c704b08beaa17e0e7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fee22da0205e3c704b08beaa17e0e7a">&#9670;&nbsp;</a></span>P()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Semaphore::P </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decrement the value, and wait if it becomes &lt; 0. Checking the value and decrementing must be done atomically, so we need to disable interrupts before checking the value.</p>
<p>Note that <a class="el" href="classThread.html#a187a4c1e62087511b69068220840244a" title="Put the thread to sleep and relinquish the processor.">Thread::Sleep</a> assumes that interrupts are disabled when it is called. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classSemaphore_a4fee22da0205e3c704b08beaa17e0e7a_icgraph.png" border="0" usemap="#classSemaphore_a4fee22da0205e3c704b08beaa17e0e7a_icgraph" alt=""/></div>
<map name="classSemaphore_a4fee22da0205e3c704b08beaa17e0e7a_icgraph" id="classSemaphore_a4fee22da0205e3c704b08beaa17e0e7a_icgraph">
<area shape="rect" title=" " alt="" coords="3037,275,3143,301"/>
<area shape="rect" href="classDriverConsole.html#a6e9663f1c449c24edfb77264375b03fc" title="Read characters from the console." alt="" coords="2825,5,2989,32"/>
<area shape="rect" href="classDriverConsole.html#a7cd25307953296dea6a255c0877155cb" title="Write a buffer on the console." alt="" coords="1745,144,1908,171"/>
<area shape="rect" href="classDriverDisk.html#a2e93ba9a36bba4e8b3eeb43f877b2395" title="Read a disk sector, returning only once the data is actually read." alt="" coords="2829,928,2985,955"/>
<area shape="rect" href="classDriverDisk.html#a74426214379e50aa0d8a7b19084887ee" title="write a disk sector, returning only once the data is actually written." alt="" coords="2601,1119,2759,1145"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,347,1471,373"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,245,1299,272"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,245,748,272"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,321,917,348"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,195,1080,221"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,169,917,196"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,245,537,272"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,245,387,272"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,245,192,272"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,360,727,387"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,448,724,475"/>
<area shape="rect" href="classSyscallError.html#a6b4121cb56f7f1a22890ba109ab2ef57" title=" " alt="" coords="1519,144,1697,171"/>
<area shape="rect" href="classFileHeader.html#aa85564cee98fc9592df08cc5e4a2efc6" title="Initialize file header from disk." alt="" coords="2360,1340,2515,1367"/>
<area shape="rect" href="classSwapManager.html#a0934e61240a5ace841499321bf0889af" title=" " alt="" coords="2583,877,2777,904"/>
<area shape="rect" href="classFileHeader.html#a57b661cda2c4d51ee06cc29e7ea0a0c0" title="Print the contents of the file." alt="" coords="2378,1499,2497,1525"/>
<area shape="rect" href="classOpenFile.html#a0af8cd52ec71a2ad407039cebee2ef3d" title=" " alt="" coords="2617,928,2743,955"/>
<area shape="rect" href="classOpenFile.html#a89136ac6b54013a413398f9496d39963" title=" " alt="" coords="2152,1397,2287,1424"/>
<area shape="rect" href="classFileSystem.html#aebaf06661b1879a62afefa5abe99f21e" title="List all the files and their contents." alt="" coords="1966,1423,2089,1449"/>
<area shape="rect" href="classDirectory.html#a40c728221c5557e4fc181c4091c6fcff" title="Verbose print of the contents of the directory – all the file names and their contents." alt="" coords="2165,1499,2274,1525"/>
<area shape="rect" href="classFileSystem.html#a52e69a068c68c6c84f02c80fd4c5389e" title="Delete a file (UNIX unlink)" alt="" coords="1755,688,1898,715"/>
<area shape="rect" href="classFileSystem.html#ae5cbf7822080d1c9bb606b5d74dd4ee5" title="Delete a directory." alt="" coords="1761,789,1892,816"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1383,789,1434,816"/>
<area shape="rect" href="classFileSystem.html#a12d63294322b37e934edd03ff614b95a" title=" " alt="" coords="1745,1152,1908,1179"/>
<area shape="rect" href="classOpenFileTable.html#a004541913ef8deb24d571c20d2020175" title="remove the file from the file system" alt="" coords="1529,561,1687,588"/>
<area shape="rect" href="classAddrSpace.html#acd3d2a68587b04ed5740e87895613821" title=" " alt="" coords="2358,953,2517,980"/>
<area shape="rect" href="classBitMap.html#ad6d12eefec9b64e903d072c83f7c29a2" title="Print contents of bitmap." alt="" coords="2370,903,2505,929"/>
<area shape="rect" href="classOpenFile.html#ad4b5d26a169a7c22e6f27c1693adb1aa" title=" " alt="" coords="2156,1093,2283,1120"/>
<area shape="rect" href="classDirectory.html#a36ed455b21bbd9a66ffe8ec689ff7c73" title="Init directory contents from disk." alt="" coords="2147,511,2292,537"/>
<area shape="rect" href="classOpenFile.html#af87bf2b0b15fa3501dada45a1a284bf4" title=" " alt="" coords="1771,232,1883,259"/>
<area shape="rect" href="classFileSystem.html#ac789d58815881d7f193d86085b0f54aa" title="Create a file (UNIX creat)" alt="" coords="1759,967,1894,993"/>
<area shape="rect" href="classFileSystem.html#aaf76918c6f0d24bc72aaa84625adfddf" title="List all the files in the file system." alt="" coords="1768,283,1885,309"/>
<area shape="rect" href="classFileSystem.html#a9b4f11a12aed939e691edd6d591a8fcf" title="Create a new directory." alt="" coords="1763,891,1891,917"/>
<area shape="rect" href="classOpenFileTableEntry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="1751,1086,1903,1127"/>
<area shape="rect" href="main_8cpp.html#a8e00c17571a60a78f108e1b56b300e1f" title=" " alt="" coords="1582,967,1634,993"/>
<area shape="rect" href="classOpenFile.html#a2de8d2d805fef3510bfd2fdf46f683fa" title=" " alt="" coords="1770,1203,1883,1229"/>
<area shape="rect" href="classBitMap.html#a19052d41ba5a654c7e478582dffba20d" title="fetch contents from disk" alt="" coords="1961,1093,2093,1120"/>
<area shape="rect" href="classDirectory.html#abf5550df42587bbc604c71441a4d12fc" title="Write modifications to directory contents back to disk." alt="" coords="1956,941,2099,968"/>
<area shape="rect" href="filesys_8hpp.html#a562c4a58dde9f8b0a25dc482e23d9dc4" title=" " alt="" coords="1996,536,2059,563"/>
<area shape="rect" href="classFileSystem.html#a606ea080a2a0fe5e3be3c3f5b8f4e7bc" title="Open a file (UNIX open)" alt="" coords="1763,511,1890,537"/>
<area shape="rect" href="classOpenFileTable.html#ab0519dd960600e61b98d524281aaa882" title=" " alt="" coords="1755,333,1899,360"/>
<area shape="rect" href="classDirectory.html#a2525a4455b80a1ee2648319ab257037c" title="Print the names of all the files in the directory." alt="" coords="1976,232,2079,259"/>
<area shape="rect" href="main_8cpp.html#a42300b7160fd87b4a003e05cfa902ae4" title=" " alt="" coords="1583,409,1633,436"/>
<area shape="rect" href="classProcess.html#acc8b64d45800f641a937ca447f080d10" title=" " alt="" coords="1545,511,1671,537"/>
<area shape="rect" href="classSwapManager.html#a35b5428181fe6bbb69f2cdfe9df13546" title=" " alt="" coords="2340,1195,2535,1221"/>
<area shape="rect" href="classFileHeader.html#ab896cc7dd7274e3f8072da2c7d9beee8" title="Write modifications to file header back to disk." alt="" coords="2361,1144,2514,1171"/>
</map>
</div>

</div>
</div>
<a id="a3e42125b95660ef696d0d0069b804343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e42125b95660ef696d0d0069b804343">&#9670;&nbsp;</a></span>V()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Semaphore::V </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Increment semaphore value, waking up a waiting thread if any. As with <a class="el" href="classSemaphore.html#a4fee22da0205e3c704b08beaa17e0e7a">P()</a>, this operation must be atomic, so we need to disable interrupts. <a class="el" href="classScheduler.html#a18e89ab130a40c423da77673f12585d7" title="Inserts a thread in the ready list.">Scheduler::ReadyToRun()</a> assumes that interrupts are disabled when it is called. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classSemaphore_a3e42125b95660ef696d0d0069b804343_icgraph.png" border="0" usemap="#classSemaphore_a3e42125b95660ef696d0d0069b804343_icgraph" alt=""/></div>
<map name="classSemaphore_a3e42125b95660ef696d0d0069b804343_icgraph" id="classSemaphore_a3e42125b95660ef696d0d0069b804343_icgraph">
<area shape="rect" title=" " alt="" coords="603,56,708,83"/>
<area shape="rect" href="classDriverConsole.html#a7ca6fd9d7adf8fe0701bc96b6d2e068d" title="Send a char to the console device." alt="" coords="388,5,555,32"/>
<area shape="rect" href="classDriverConsole.html#ae066669b5fc7532ecca449a12dead3be" title="Receive e char from the console." alt="" coords="389,56,554,83"/>
<area shape="rect" href="classDriverDisk.html#a110084e07cf276072bf7275f22334087" title="Called by the disk device interrupt handler, to signal that the current disk operation is complete." alt="" coords="388,107,555,133"/>
<area shape="rect" href="drvConsole_8hpp.html#a0050b14775abe9c8ee3b3fb27e6ea37f" title=" " alt="" coords="215,5,306,32"/>
<area shape="rect" href="classMachine.html#ad5958275a54dbc299b71ecdba7da0604" title=" " alt="" coords="5,81,133,108"/>
<area shape="rect" href="drvConsole_8hpp.html#a7f63a9837150e7fb0f7aae4b0504bd67" title=" " alt="" coords="216,56,305,83"/>
<area shape="rect" href="drvDisk_8hpp.html#a4914abaf9a1c5b03d7d58de239c0060a" title=" " alt="" coords="197,107,324,133"/>
<area shape="rect" href="drvDisk_8hpp.html#a15036b35816c3b721525d4b117a5f40e" title=" " alt="" coords="181,157,340,184"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="abacd94dfabb321408c2b36f570ff3249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abacd94dfabb321408c2b36f570ff3249">&#9670;&nbsp;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* Semaphore::name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>useful for debugging </p>

</div>
</div>
<a id="a00bdb8f466a81c56e823f616e66fecbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00bdb8f466a81c56e823f616e66fecbd">&#9670;&nbsp;</a></span>queue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="list_8hpp.html#aa84599d07605fa9c90fc73ac57c58635">Listint</a>* Semaphore::queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>threads waiting in <a class="el" href="classSemaphore.html#a4fee22da0205e3c704b08beaa17e0e7a">P()</a> for the value to be &gt; 0 </p>

</div>
</div>
<a id="aaa0378188c50d28e06b314327f362b64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa0378188c50d28e06b314327f362b64">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="system_8hpp.html#a842c5e2e69277690b064bf363c017980">ObjectType</a> Semaphore::type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&lt; Object type, for validity checks during system calls (must be the first public field) </p>

</div>
</div>
<a id="a951b9b5b03dd295a2cd1b193e03c03f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a951b9b5b03dd295a2cd1b193e03c03f6">&#9670;&nbsp;</a></span>value</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Semaphore::value</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>semaphore value </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>kernel/<a class="el" href="synch_8hpp_source.html">synch.hpp</a></li>
<li>kernel/<a class="el" href="synch_8cpp.html">synch.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classSemaphore.html">Semaphore</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
