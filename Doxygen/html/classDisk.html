<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nachos: Disk Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nachos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classDisk.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classDisk-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Disk Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines a physical disk I/O device.  
 <a href="classDisk.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="disk_8hpp_source.html">disk.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for Disk:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk__coll__graph.png" border="0" usemap="#Disk_coll__map" alt="Collaboration graph"/></div>
<map name="Disk_coll__map" id="Disk_coll__map">
<area shape="rect" title="Defines a physical disk I/O device." alt="" coords="5,5,145,259"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af255e1823d23c1cff4495263ca1096b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDisk.html#af255e1823d23c1cff4495263ca1096b3">Disk</a> (char *name, <a class="el" href="utility_8hpp.html#a9c6f12cbff87535a17c52ca7d975f2a5">VoidNoArgFunctionPtr</a> callWhenDone)</td></tr>
<tr class="separator:af255e1823d23c1cff4495263ca1096b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77518c808f3f5d9e902a55942542c337"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDisk.html#a77518c808f3f5d9e902a55942542c337">~Disk</a> ()</td></tr>
<tr class="separator:a77518c808f3f5d9e902a55942542c337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b51a82d4f2fd009335d0c591ae11042"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDisk.html#a8b51a82d4f2fd009335d0c591ae11042">ReadRequest</a> (int sectorNumber, char *data)</td></tr>
<tr class="separator:a8b51a82d4f2fd009335d0c591ae11042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec33797c6480a8c919fc7d340c316abe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDisk.html#aec33797c6480a8c919fc7d340c316abe">WriteRequest</a> (int sectorNumber, char *data)</td></tr>
<tr class="separator:aec33797c6480a8c919fc7d340c316abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d4a38e61501c221163ef845b9d6969"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDisk.html#a32d4a38e61501c221163ef845b9d6969">HandleInterrupt</a> ()</td></tr>
<tr class="separator:a32d4a38e61501c221163ef845b9d6969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2337b1c68eb5f6a15502d8327d15248b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDisk.html#a2337b1c68eb5f6a15502d8327d15248b">ComputeLatency</a> (int newSector, bool writing)</td></tr>
<tr class="separator:a2337b1c68eb5f6a15502d8327d15248b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:abecdf19e160925b1bc9b4542c90de2ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDisk.html#abecdf19e160925b1bc9b4542c90de2ac">TimeToSeek</a> (int newSector, int *rotate)</td></tr>
<tr class="separator:abecdf19e160925b1bc9b4542c90de2ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf14ace693df2b08e1187045305e81a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDisk.html#abf14ace693df2b08e1187045305e81a5">ModuloDiff</a> (int to, <a class="el" href="utility_8hpp.html#a404f45f62799218047ab2cfe96f408d5">Time</a> from)</td></tr>
<tr class="memdesc:abf14ace693df2b08e1187045305e81a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">time to get to the new track  <a href="classDisk.html#abf14ace693df2b08e1187045305e81a5">More...</a><br /></td></tr>
<tr class="separator:abf14ace693df2b08e1187045305e81a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa87426eeedc8cf390fa4b293ecd34b42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDisk.html#aa87426eeedc8cf390fa4b293ecd34b42">UpdateLast</a> (int newSector)</td></tr>
<tr class="separator:aa87426eeedc8cf390fa4b293ecd34b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a27881148b34cffd7005df5d7353ce775"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDisk.html#a27881148b34cffd7005df5d7353ce775">fileno</a></td></tr>
<tr class="memdesc:a27881148b34cffd7005df5d7353ce775"><td class="mdescLeft">&#160;</td><td class="mdescRight">UNIX file number for simulated disk.  <a href="classDisk.html#a27881148b34cffd7005df5d7353ce775">More...</a><br /></td></tr>
<tr class="separator:a27881148b34cffd7005df5d7353ce775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c18ccdc11e90056f005dfc68df677f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utility_8hpp.html#a9c6f12cbff87535a17c52ca7d975f2a5">VoidNoArgFunctionPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDisk.html#a0c18ccdc11e90056f005dfc68df677f3">handler</a></td></tr>
<tr class="memdesc:a0c18ccdc11e90056f005dfc68df677f3"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classInterrupt.html" title="Defines a low level interrupt hardware.">Interrupt</a> handler, to be invoked when any disk request finishes.  <a href="classDisk.html#a0c18ccdc11e90056f005dfc68df677f3">More...</a><br /></td></tr>
<tr class="separator:a0c18ccdc11e90056f005dfc68df677f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41ece24e9dead4ad0af20607d3ac4934"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDisk.html#a41ece24e9dead4ad0af20607d3ac4934">active</a></td></tr>
<tr class="memdesc:a41ece24e9dead4ad0af20607d3ac4934"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is a disk operation in progress?  <a href="classDisk.html#a41ece24e9dead4ad0af20607d3ac4934">More...</a><br /></td></tr>
<tr class="separator:a41ece24e9dead4ad0af20607d3ac4934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09339a72e2d38a32238934f0ae2ae1bb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDisk.html#a09339a72e2d38a32238934f0ae2ae1bb">lastSector</a></td></tr>
<tr class="memdesc:a09339a72e2d38a32238934f0ae2ae1bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The previous disk request.  <a href="classDisk.html#a09339a72e2d38a32238934f0ae2ae1bb">More...</a><br /></td></tr>
<tr class="separator:a09339a72e2d38a32238934f0ae2ae1bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de9a24527782fe0ad3bad8096951077"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utility_8hpp.html#a404f45f62799218047ab2cfe96f408d5">Time</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDisk.html#a1de9a24527782fe0ad3bad8096951077">bufferInit</a></td></tr>
<tr class="memdesc:a1de9a24527782fe0ad3bad8096951077"><td class="mdescLeft">&#160;</td><td class="mdescRight">When the track buffer started being loaded.  <a href="classDisk.html#a1de9a24527782fe0ad3bad8096951077">More...</a><br /></td></tr>
<tr class="separator:a1de9a24527782fe0ad3bad8096951077"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines a physical disk I/O device. </p>
<p>The disk has a single surface, split up into "tracks", and each track split up into "sectors" (the same number of sectors on each track, and each sector has the same number of bytes of storage).</p>
<p>Addressing is by sector number &ndash; each sector on the disk is given a unique number: track * SectorsPerTrack + offset within a track.</p>
<p>As with other I/O devices, the physical disk is an asynchronous device &ndash; requests to read or write portions of the disk return immediately, and an interrupt is invoked later to signal that the operation completed.</p>
<p>The physical disk is in fact simulated via operations on a UNIX file.</p>
<p>To make life a little more realistic, the simulated time for each operation reflects a "track buffer" &ndash; RAM to store the contents of the current track as the disk head passes by. The idea is that the disk always transfers to the track buffer, in case that data is requested later on. This has the benefit of eliminating the need for "skip-sector" scheduling &ndash; a read request which comes in shortly after the head has passed the beginning of the sector can be satisfied more quickly, because its contents are in the track buffer. Most disks these days now come with a track buffer.</p>
<p>The track buffer simulation can be disabled by compiling with -DNOTRACKBUF </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af255e1823d23c1cff4495263ca1096b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af255e1823d23c1cff4495263ca1096b3">&#9670;&nbsp;</a></span>Disk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Disk::Disk </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utility_8hpp.html#a9c6f12cbff87535a17c52ca7d975f2a5">VoidNoArgFunctionPtr</a>&#160;</td>
          <td class="paramname"><em>callWhenDone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a simulated disk. Invoke (*callWhenDone) every time a request completes.</p>
<p>Constructor. Initialize a simulated disk. <br  />
 Open the UNIX file (creating it if it doesn't exist), and check the magic number to make sure it's OK to treat it as Nachos disk storage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>text name of the file simulating the Nachos disk </td></tr>
    <tr><td class="paramname">callWhenDone</td><td>interrupt handler to be called when disk read/write request completes </td></tr>
    <tr><td class="paramname">callArg</td><td>argument to pass the interrupt handler </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk_af255e1823d23c1cff4495263ca1096b3_cgraph.png" border="0" usemap="#classDisk_af255e1823d23c1cff4495263ca1096b3_cgraph" alt=""/></div>
<map name="classDisk_af255e1823d23c1cff4495263ca1096b3_cgraph" id="classDisk_af255e1823d23c1cff4495263ca1096b3_cgraph">
<area shape="rect" title=" " alt="" coords="5,132,88,159"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="169,5,237,32"/>
<area shape="rect" href="sysdep_8cpp.html#a5e24d90699a8caf5d5ecf0ea461050b4" title="Change the location within an open file. Abort on error." alt="" coords="174,56,231,83"/>
<area shape="rect" href="sysdep_8cpp.html#ab5cb68486a40540a7a3bd380e15d36d9" title=" " alt="" coords="136,107,269,133"/>
<area shape="rect" href="sysdep_8cpp.html#a68068d69619efab5fe029a00b5114db9" title=" " alt="" coords="151,157,254,184"/>
<area shape="rect" href="sysdep_8cpp.html#a6140dcc97ab52a9406e6d3f5749fa43c" title="Read characters from an open file. Abort if read fails." alt="" coords="177,208,229,235"/>
<area shape="rect" href="sysdep_8cpp.html#a423758a22b76ab4ab8dce5afd92b83cd" title="Write characters to an open file. Abort if write fails." alt="" coords="165,259,240,285"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="317,5,433,32"/>
</map>
</div>

</div>
</div>
<a id="a77518c808f3f5d9e902a55942542c337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77518c808f3f5d9e902a55942542c337">&#9670;&nbsp;</a></span>~Disk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Disk::~Disk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deallocate the disk.</p>
<p>Destructor. Clean up disk simulation, by closing the UNIX file representing the disk. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk_a77518c808f3f5d9e902a55942542c337_cgraph.png" border="0" usemap="#classDisk_a77518c808f3f5d9e902a55942542c337_cgraph" alt=""/></div>
<map name="classDisk_a77518c808f3f5d9e902a55942542c337_cgraph" id="classDisk_a77518c808f3f5d9e902a55942542c337_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,96,32"/>
<area shape="rect" href="sysdep_8cpp.html#ade6d4842f21ea284e126636e424e6614" title="Close a file. Abort on error." alt="" coords="144,5,199,32"/>
<area shape="rect" href="sysdep_8cpp.html#ac27bb3145ebeaec9b4661acfd47e4c51" title=" " alt="" coords="247,5,300,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2337b1c68eb5f6a15502d8327d15248b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2337b1c68eb5f6a15502d8327d15248b">&#9670;&nbsp;</a></span>ComputeLatency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Disk::ComputeLatency </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newSector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>writing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return how long a request to newSector will take: (seek + rotational delay + transfer)</p>
<p>Return how long will it take to read/write a disk sector, from the current position of the disk head.</p>
<p>Latency = seek time + rotational latency + transfer time <a class="el" href="classDisk.html" title="Defines a physical disk I/O device.">Disk</a> seeks at one track per SEEK_TIME nanos (cf. <a class="el" href="stats_8hpp.html" title="Data structures for gathering statistics about Nachos performance.">stats.hpp</a>) and rotates at one sector per ROTATION_TIME nanos</p>
<p>To find the rotational latency, we first must figure out where the disk head will be after the seek (if any). We then figure out how long it will take to rotate completely past newSector after that point.</p>
<p>The disk also has a "track buffer"; the disk continuously reads the contents of the current disk track into the buffer. This allows read requests to the current track to be satisfied more quickly. The contents of the track buffer are discarded after every seek to a new track. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk_a2337b1c68eb5f6a15502d8327d15248b_cgraph.png" border="0" usemap="#classDisk_a2337b1c68eb5f6a15502d8327d15248b_cgraph" alt=""/></div>
<map name="classDisk_a2337b1c68eb5f6a15502d8327d15248b_cgraph" id="classDisk_a2337b1c68eb5f6a15502d8327d15248b_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,160,108"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="238,5,306,32"/>
<area shape="rect" href="classStatistics.html#a77aec82b7adb8d795c850db96c82f5d8" title=" " alt="" coords="384,107,547,133"/>
<area shape="rect" href="classDisk.html#abf14ace693df2b08e1187045305e81a5" title="time to get to the new track" alt="" coords="214,107,330,133"/>
<area shape="rect" href="classDisk.html#abecdf19e160925b1bc9b4542c90de2ac" title=" " alt="" coords="208,157,336,184"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="407,5,523,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk_a2337b1c68eb5f6a15502d8327d15248b_icgraph.png" border="0" usemap="#classDisk_a2337b1c68eb5f6a15502d8327d15248b_icgraph" alt=""/></div>
<map name="classDisk_a2337b1c68eb5f6a15502d8327d15248b_icgraph" id="classDisk_a2337b1c68eb5f6a15502d8327d15248b_icgraph">
<area shape="rect" title=" " alt="" coords="3192,972,3347,999"/>
<area shape="rect" href="classDisk.html#a8b51a82d4f2fd009335d0c591ae11042" title=" " alt="" coords="3009,947,3144,974"/>
<area shape="rect" href="classDisk.html#aec33797c6480a8c919fc7d340c316abe" title=" " alt="" coords="3009,998,3144,1024"/>
<area shape="rect" href="classDriverDisk.html#a2e93ba9a36bba4e8b3eeb43f877b2395" title="Read a disk sector, returning only once the data is actually read." alt="" coords="2805,947,2961,974"/>
<area shape="rect" href="classFileHeader.html#aa85564cee98fc9592df08cc5e4a2efc6" title="Initialize file header from disk." alt="" coords="2340,1200,2495,1227"/>
<area shape="rect" href="classSwapManager.html#a0934e61240a5ace841499321bf0889af" title=" " alt="" coords="2563,947,2757,974"/>
<area shape="rect" href="classFileHeader.html#a57b661cda2c4d51ee06cc29e7ea0a0c0" title="Print the contents of the file." alt="" coords="2358,1327,2477,1354"/>
<area shape="rect" href="classOpenFile.html#a0af8cd52ec71a2ad407039cebee2ef3d" title=" " alt="" coords="2597,719,2723,746"/>
<area shape="rect" href="classOpenFile.html#a89136ac6b54013a413398f9496d39963" title=" " alt="" coords="2132,1226,2267,1252"/>
<area shape="rect" href="classFileSystem.html#aebaf06661b1879a62afefa5abe99f21e" title="List all the files and their contents." alt="" coords="1946,1251,2069,1278"/>
<area shape="rect" href="classDirectory.html#a40c728221c5557e4fc181c4091c6fcff" title="Verbose print of the contents of the directory – all the file names and their contents." alt="" coords="2145,1378,2254,1404"/>
<area shape="rect" href="classFileSystem.html#a52e69a068c68c6c84f02c80fd4c5389e" title="Delete a file (UNIX unlink)" alt="" coords="1735,491,1878,518"/>
<area shape="rect" href="classFileSystem.html#ae5cbf7822080d1c9bb606b5d74dd4ee5" title="Delete a directory." alt="" coords="1741,719,1872,746"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1383,618,1434,644"/>
<area shape="rect" href="classFileSystem.html#a12d63294322b37e934edd03ff614b95a" title=" " alt="" coords="1725,922,1888,948"/>
<area shape="rect" href="classOpenFileTable.html#a004541913ef8deb24d571c20d2020175" title="remove the file from the file system" alt="" coords="1519,415,1677,442"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,440,1471,467"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,339,1299,366"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,288,748,315"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,415,917,442"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,339,1080,366"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,288,917,315"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,288,537,315"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,288,387,315"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,288,192,315"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,454,727,480"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,542,724,568"/>
<area shape="rect" href="classAddrSpace.html#acd3d2a68587b04ed5740e87895613821" title=" " alt="" coords="2338,694,2497,720"/>
<area shape="rect" href="classBitMap.html#ad6d12eefec9b64e903d072c83f7c29a2" title="Print contents of bitmap." alt="" coords="2350,744,2485,771"/>
<area shape="rect" href="classOpenFile.html#ad4b5d26a169a7c22e6f27c1693adb1aa" title=" " alt="" coords="2136,922,2263,948"/>
<area shape="rect" href="classDirectory.html#a36ed455b21bbd9a66ffe8ec689ff7c73" title="Init directory contents from disk." alt="" coords="2127,339,2272,366"/>
<area shape="rect" href="classOpenFile.html#af87bf2b0b15fa3501dada45a1a284bf4" title=" " alt="" coords="1751,60,1863,87"/>
<area shape="rect" href="classFileSystem.html#ac789d58815881d7f193d86085b0f54aa" title="Create a file (UNIX creat)" alt="" coords="1739,555,1874,582"/>
<area shape="rect" href="classFileSystem.html#aaf76918c6f0d24bc72aaa84625adfddf" title="List all the files in the file system." alt="" coords="1748,111,1865,138"/>
<area shape="rect" href="classFileSystem.html#a9b4f11a12aed939e691edd6d591a8fcf" title="Create a new directory." alt="" coords="1743,871,1871,898"/>
<area shape="rect" href="classOpenFileTableEntry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="1731,805,1883,846"/>
<area shape="rect" href="main_8cpp.html#a8e00c17571a60a78f108e1b56b300e1f" title=" " alt="" coords="1572,618,1624,644"/>
<area shape="rect" href="classOpenFile.html#a2de8d2d805fef3510bfd2fdf46f683fa" title=" " alt="" coords="1750,972,1863,999"/>
<area shape="rect" href="classBitMap.html#a19052d41ba5a654c7e478582dffba20d" title="fetch contents from disk" alt="" coords="1941,871,2073,898"/>
<area shape="rect" href="classDirectory.html#abf5550df42587bbc604c71441a4d12fc" title="Write modifications to directory contents back to disk." alt="" coords="1936,770,2079,796"/>
<area shape="rect" href="filesys_8hpp.html#a562c4a58dde9f8b0a25dc482e23d9dc4" title=" " alt="" coords="1976,364,2039,391"/>
<area shape="rect" href="classFileSystem.html#a606ea080a2a0fe5e3be3c3f5b8f4e7bc" title="Open a file (UNIX open)" alt="" coords="1743,364,1870,391"/>
<area shape="rect" href="classOpenFileTable.html#ab0519dd960600e61b98d524281aaa882" title=" " alt="" coords="1735,162,1879,188"/>
<area shape="rect" href="classDirectory.html#a2525a4455b80a1ee2648319ab257037c" title="Print the names of all the files in the directory." alt="" coords="1956,111,2059,138"/>
<area shape="rect" href="main_8cpp.html#a42300b7160fd87b4a003e05cfa902ae4" title=" " alt="" coords="1573,263,1623,290"/>
<area shape="rect" href="classProcess.html#acc8b64d45800f641a937ca447f080d10" title=" " alt="" coords="1535,364,1661,391"/>
<area shape="rect" href="classDriverDisk.html#a74426214379e50aa0d8a7b19084887ee" title="write a disk sector, returning only once the data is actually written." alt="" coords="2581,998,2739,1024"/>
<area shape="rect" href="classSwapManager.html#a35b5428181fe6bbb69f2cdfe9df13546" title=" " alt="" coords="2320,1023,2515,1050"/>
<area shape="rect" href="classFileHeader.html#ab896cc7dd7274e3f8072da2c7d9beee8" title="Write modifications to file header back to disk." alt="" coords="2341,972,2494,999"/>
</map>
</div>

</div>
</div>
<a id="a32d4a38e61501c221163ef845b9d6969"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32d4a38e61501c221163ef845b9d6969">&#9670;&nbsp;</a></span>HandleInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Disk::HandleInterrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="classInterrupt.html" title="Defines a low level interrupt hardware.">Interrupt</a> handler, invoked when disk request finishes.</p>
<p>Called when it is time to invoke the disk interrupt handler, to tell the Nachos kernel that the disk request is done. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk_a32d4a38e61501c221163ef845b9d6969_cgraph.png" border="0" usemap="#classDisk_a32d4a38e61501c221163ef845b9d6969_cgraph" alt=""/></div>
<map name="classDisk_a32d4a38e61501c221163ef845b9d6969_cgraph" id="classDisk_a32d4a38e61501c221163ef845b9d6969_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,148,32"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="196,5,264,32"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="312,5,428,32"/>
</map>
</div>

</div>
</div>
<a id="abf14ace693df2b08e1187045305e81a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf14ace693df2b08e1187045305e81a5">&#9670;&nbsp;</a></span>ModuloDiff()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Disk::ModuloDiff </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utility_8hpp.html#a404f45f62799218047ab2cfe96f408d5">Time</a>&#160;</td>
          <td class="paramname"><em>from</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>time to get to the new track </p>
<p>Return number of sectors of rotational delay between target sector "to" and current sector position "from" </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk_abf14ace693df2b08e1187045305e81a5_icgraph.png" border="0" usemap="#classDisk_abf14ace693df2b08e1187045305e81a5_icgraph" alt=""/></div>
<map name="classDisk_abf14ace693df2b08e1187045305e81a5_icgraph" id="classDisk_abf14ace693df2b08e1187045305e81a5_icgraph">
<area shape="rect" title="time to get to the new track" alt="" coords="3395,972,3511,999"/>
<area shape="rect" href="classDisk.html#a2337b1c68eb5f6a15502d8327d15248b" title=" " alt="" coords="3192,972,3347,999"/>
<area shape="rect" href="classDisk.html#a8b51a82d4f2fd009335d0c591ae11042" title=" " alt="" coords="3009,947,3144,974"/>
<area shape="rect" href="classDisk.html#aec33797c6480a8c919fc7d340c316abe" title=" " alt="" coords="3009,998,3144,1024"/>
<area shape="rect" href="classDriverDisk.html#a2e93ba9a36bba4e8b3eeb43f877b2395" title="Read a disk sector, returning only once the data is actually read." alt="" coords="2805,947,2961,974"/>
<area shape="rect" href="classFileHeader.html#aa85564cee98fc9592df08cc5e4a2efc6" title="Initialize file header from disk." alt="" coords="2340,1200,2495,1227"/>
<area shape="rect" href="classSwapManager.html#a0934e61240a5ace841499321bf0889af" title=" " alt="" coords="2563,947,2757,974"/>
<area shape="rect" href="classFileHeader.html#a57b661cda2c4d51ee06cc29e7ea0a0c0" title="Print the contents of the file." alt="" coords="2358,1327,2477,1354"/>
<area shape="rect" href="classOpenFile.html#a0af8cd52ec71a2ad407039cebee2ef3d" title=" " alt="" coords="2597,719,2723,746"/>
<area shape="rect" href="classOpenFile.html#a89136ac6b54013a413398f9496d39963" title=" " alt="" coords="2132,1226,2267,1252"/>
<area shape="rect" href="classFileSystem.html#aebaf06661b1879a62afefa5abe99f21e" title="List all the files and their contents." alt="" coords="1946,1251,2069,1278"/>
<area shape="rect" href="classDirectory.html#a40c728221c5557e4fc181c4091c6fcff" title="Verbose print of the contents of the directory – all the file names and their contents." alt="" coords="2145,1378,2254,1404"/>
<area shape="rect" href="classFileSystem.html#a52e69a068c68c6c84f02c80fd4c5389e" title="Delete a file (UNIX unlink)" alt="" coords="1735,491,1878,518"/>
<area shape="rect" href="classFileSystem.html#ae5cbf7822080d1c9bb606b5d74dd4ee5" title="Delete a directory." alt="" coords="1741,719,1872,746"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1383,618,1434,644"/>
<area shape="rect" href="classFileSystem.html#a12d63294322b37e934edd03ff614b95a" title=" " alt="" coords="1725,922,1888,948"/>
<area shape="rect" href="classOpenFileTable.html#a004541913ef8deb24d571c20d2020175" title="remove the file from the file system" alt="" coords="1519,415,1677,442"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,440,1471,467"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,339,1299,366"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,288,748,315"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,415,917,442"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,339,1080,366"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,288,917,315"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,288,537,315"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,288,387,315"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,288,192,315"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,454,727,480"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,542,724,568"/>
<area shape="rect" href="classAddrSpace.html#acd3d2a68587b04ed5740e87895613821" title=" " alt="" coords="2338,694,2497,720"/>
<area shape="rect" href="classBitMap.html#ad6d12eefec9b64e903d072c83f7c29a2" title="Print contents of bitmap." alt="" coords="2350,744,2485,771"/>
<area shape="rect" href="classOpenFile.html#ad4b5d26a169a7c22e6f27c1693adb1aa" title=" " alt="" coords="2136,922,2263,948"/>
<area shape="rect" href="classDirectory.html#a36ed455b21bbd9a66ffe8ec689ff7c73" title="Init directory contents from disk." alt="" coords="2127,339,2272,366"/>
<area shape="rect" href="classOpenFile.html#af87bf2b0b15fa3501dada45a1a284bf4" title=" " alt="" coords="1751,60,1863,87"/>
<area shape="rect" href="classFileSystem.html#ac789d58815881d7f193d86085b0f54aa" title="Create a file (UNIX creat)" alt="" coords="1739,555,1874,582"/>
<area shape="rect" href="classFileSystem.html#aaf76918c6f0d24bc72aaa84625adfddf" title="List all the files in the file system." alt="" coords="1748,111,1865,138"/>
<area shape="rect" href="classFileSystem.html#a9b4f11a12aed939e691edd6d591a8fcf" title="Create a new directory." alt="" coords="1743,871,1871,898"/>
<area shape="rect" href="classOpenFileTableEntry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="1731,805,1883,846"/>
<area shape="rect" href="main_8cpp.html#a8e00c17571a60a78f108e1b56b300e1f" title=" " alt="" coords="1572,618,1624,644"/>
<area shape="rect" href="classOpenFile.html#a2de8d2d805fef3510bfd2fdf46f683fa" title=" " alt="" coords="1750,972,1863,999"/>
<area shape="rect" href="classBitMap.html#a19052d41ba5a654c7e478582dffba20d" title="fetch contents from disk" alt="" coords="1941,871,2073,898"/>
<area shape="rect" href="classDirectory.html#abf5550df42587bbc604c71441a4d12fc" title="Write modifications to directory contents back to disk." alt="" coords="1936,770,2079,796"/>
<area shape="rect" href="filesys_8hpp.html#a562c4a58dde9f8b0a25dc482e23d9dc4" title=" " alt="" coords="1976,364,2039,391"/>
<area shape="rect" href="classFileSystem.html#a606ea080a2a0fe5e3be3c3f5b8f4e7bc" title="Open a file (UNIX open)" alt="" coords="1743,364,1870,391"/>
<area shape="rect" href="classOpenFileTable.html#ab0519dd960600e61b98d524281aaa882" title=" " alt="" coords="1735,162,1879,188"/>
<area shape="rect" href="classDirectory.html#a2525a4455b80a1ee2648319ab257037c" title="Print the names of all the files in the directory." alt="" coords="1956,111,2059,138"/>
<area shape="rect" href="main_8cpp.html#a42300b7160fd87b4a003e05cfa902ae4" title=" " alt="" coords="1573,263,1623,290"/>
<area shape="rect" href="classProcess.html#acc8b64d45800f641a937ca447f080d10" title=" " alt="" coords="1535,364,1661,391"/>
<area shape="rect" href="classDriverDisk.html#a74426214379e50aa0d8a7b19084887ee" title="write a disk sector, returning only once the data is actually written." alt="" coords="2581,998,2739,1024"/>
<area shape="rect" href="classSwapManager.html#a35b5428181fe6bbb69f2cdfe9df13546" title=" " alt="" coords="2320,1023,2515,1050"/>
<area shape="rect" href="classFileHeader.html#ab896cc7dd7274e3f8072da2c7d9beee8" title="Write modifications to file header back to disk." alt="" coords="2341,972,2494,999"/>
</map>
</div>

</div>
</div>
<a id="a8b51a82d4f2fd009335d0c591ae11042"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b51a82d4f2fd009335d0c591ae11042">&#9670;&nbsp;</a></span>ReadRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Disk::ReadRequest </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sectorNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read/write an single disk sector. These routines send a request to the disk and return immediately. Only one request allowed at a time!</p>
<p>Simulate a request to read a single disk sector Do the read immediately to the UNIX file Set up an interrupt handler to be called later, that will notify the caller when the simulator says the operation has completed.</p>
<p>Note that a disk only allows an entire sector to be read, not part of a sector.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sectorNumber</td><td>the disk sector to read </td></tr>
    <tr><td class="paramname">data</td><td>the buffer to hold the incoming bytes </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk_a8b51a82d4f2fd009335d0c591ae11042_cgraph.png" border="0" usemap="#classDisk_a8b51a82d4f2fd009335d0c591ae11042_cgraph" alt=""/></div>
<map name="classDisk_a8b51a82d4f2fd009335d0c591ae11042_cgraph" id="classDisk_a8b51a82d4f2fd009335d0c591ae11042_cgraph">
<area shape="rect" title=" " alt="" coords="5,294,140,321"/>
<area shape="rect" href="classDisk.html#a2337b1c68eb5f6a15502d8327d15248b" title=" " alt="" coords="199,193,353,219"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="442,142,510,169"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="611,66,727,93"/>
<area shape="rect" href="disk_8cpp.html#a03b355bcf0d41c1fdeb1c69fb067fc1a" title="dummy procedure because we can&#39;t take a pointer of a member function" alt="" coords="237,294,315,321"/>
<area shape="rect" href="classThread.html#ade294fd013100034bebd745d8ffb1f94" title="Returns the process owner." alt="" coords="189,345,363,371"/>
<area shape="rect" href="classProcessStat.html#a8114ba343d15b3a29be80eff5a094f79" title=" " alt="" coords="188,396,364,437"/>
<area shape="rect" href="sysdep_8cpp.html#a5e24d90699a8caf5d5ecf0ea461050b4" title="Change the location within an open file. Abort on error." alt="" coords="247,462,305,489"/>
<area shape="rect" href="disk_8cpp.html#a3f97a10c00c77d969f5ec6423403b6cc" title="Dump the data in a disk read/write request, for debugging only." alt="" coords="233,513,319,539"/>
<area shape="rect" href="sysdep_8cpp.html#a6140dcc97ab52a9406e6d3f5749fa43c" title="Read characters from an open file. Abort if read fails." alt="" coords="250,563,302,590"/>
<area shape="rect" href="classInterrupt.html#ac403a14a9e41fa2b6dbd5c6056b87389" title="Print interrupt state." alt="" coords="211,91,341,118"/>
<area shape="rect" href="classDisk.html#aa87426eeedc8cf390fa4b293ecd34b42" title=" " alt="" coords="215,243,337,270"/>
<area shape="rect" href="classStatistics.html#a77aec82b7adb8d795c850db96c82f5d8" title=" " alt="" coords="588,269,751,295"/>
<area shape="rect" href="classDisk.html#abf14ace693df2b08e1187045305e81a5" title="time to get to the new track" alt="" coords="418,193,534,219"/>
<area shape="rect" href="classDisk.html#abecdf19e160925b1bc9b4542c90de2ac" title=" " alt="" coords="412,294,540,321"/>
<area shape="rect" href="classList.html#a7c94145ed3ab4115dd2a87e25eeadc91" title=" " alt="" coords="415,41,537,67"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk_a8b51a82d4f2fd009335d0c591ae11042_icgraph.png" border="0" usemap="#classDisk_a8b51a82d4f2fd009335d0c591ae11042_icgraph" alt=""/></div>
<map name="classDisk_a8b51a82d4f2fd009335d0c591ae11042_icgraph" id="classDisk_a8b51a82d4f2fd009335d0c591ae11042_icgraph">
<area shape="rect" title=" " alt="" coords="2973,104,3108,131"/>
<area shape="rect" href="classDriverDisk.html#a2e93ba9a36bba4e8b3eeb43f877b2395" title="Read a disk sector, returning only once the data is actually read." alt="" coords="2769,104,2925,131"/>
<area shape="rect" href="classFileHeader.html#aa85564cee98fc9592df08cc5e4a2efc6" title="Initialize file header from disk." alt="" coords="2322,130,2477,156"/>
<area shape="rect" href="classSwapManager.html#a0934e61240a5ace841499321bf0889af" title=" " alt="" coords="2527,79,2721,106"/>
<area shape="rect" href="classFileHeader.html#a57b661cda2c4d51ee06cc29e7ea0a0c0" title="Print the contents of the file." alt="" coords="2340,28,2459,55"/>
<area shape="rect" href="classOpenFile.html#a0af8cd52ec71a2ad407039cebee2ef3d" title=" " alt="" coords="2561,408,2687,435"/>
<area shape="rect" href="classOpenFile.html#a89136ac6b54013a413398f9496d39963" title=" " alt="" coords="2132,130,2267,156"/>
<area shape="rect" href="classFileSystem.html#aebaf06661b1879a62afefa5abe99f21e" title="List all the files and their contents." alt="" coords="1946,79,2069,106"/>
<area shape="rect" href="classDirectory.html#a40c728221c5557e4fc181c4091c6fcff" title="Verbose print of the contents of the directory – all the file names and their contents." alt="" coords="2145,28,2254,55"/>
<area shape="rect" href="classFileSystem.html#a52e69a068c68c6c84f02c80fd4c5389e" title="Delete a file (UNIX unlink)" alt="" coords="1735,371,1878,398"/>
<area shape="rect" href="classFileSystem.html#ae5cbf7822080d1c9bb606b5d74dd4ee5" title="Delete a directory." alt="" coords="1741,539,1872,566"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1383,486,1434,512"/>
<area shape="rect" href="classFileSystem.html#a12d63294322b37e934edd03ff614b95a" title=" " alt="" coords="1725,320,1888,347"/>
<area shape="rect" href="classOpenFileTable.html#a004541913ef8deb24d571c20d2020175" title="remove the file from the file system" alt="" coords="1519,688,1677,715"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,714,1471,740"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,612,1299,639"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,562,748,588"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,688,917,715"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,612,1080,639"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,511,917,538"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,562,537,588"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,562,387,588"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,562,192,588"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,727,727,754"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,778,724,804"/>
<area shape="rect" href="classAddrSpace.html#acd3d2a68587b04ed5740e87895613821" title=" " alt="" coords="2320,383,2479,410"/>
<area shape="rect" href="classBitMap.html#ad6d12eefec9b64e903d072c83f7c29a2" title="Print contents of bitmap." alt="" coords="2332,484,2467,511"/>
<area shape="rect" href="classOpenFile.html#ad4b5d26a169a7c22e6f27c1693adb1aa" title=" " alt="" coords="2136,434,2263,460"/>
<area shape="rect" href="classDirectory.html#a36ed455b21bbd9a66ffe8ec689ff7c73" title="Init directory contents from disk." alt="" coords="2127,890,2272,916"/>
<area shape="rect" href="classOpenFile.html#af87bf2b0b15fa3501dada45a1a284bf4" title=" " alt="" coords="1751,270,1863,296"/>
<area shape="rect" href="classFileSystem.html#ac789d58815881d7f193d86085b0f54aa" title="Create a file (UNIX creat)" alt="" coords="1739,790,1874,816"/>
<area shape="rect" href="classFileSystem.html#aaf76918c6f0d24bc72aaa84625adfddf" title="List all the files in the file system." alt="" coords="1748,1092,1865,1119"/>
<area shape="rect" href="classFileSystem.html#a9b4f11a12aed939e691edd6d591a8fcf" title="Create a new directory." alt="" coords="1743,638,1871,664"/>
<area shape="rect" href="classOpenFileTableEntry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="1731,473,1883,514"/>
<area shape="rect" href="main_8cpp.html#a8e00c17571a60a78f108e1b56b300e1f" title=" " alt="" coords="1572,790,1624,816"/>
<area shape="rect" href="classOpenFile.html#a2de8d2d805fef3510bfd2fdf46f683fa" title=" " alt="" coords="1750,739,1863,766"/>
<area shape="rect" href="classBitMap.html#a19052d41ba5a654c7e478582dffba20d" title="fetch contents from disk" alt="" coords="1941,434,2073,460"/>
<area shape="rect" href="classDirectory.html#abf5550df42587bbc604c71441a4d12fc" title="Write modifications to directory contents back to disk." alt="" coords="1936,383,2079,410"/>
<area shape="rect" href="filesys_8hpp.html#a562c4a58dde9f8b0a25dc482e23d9dc4" title=" " alt="" coords="1976,788,2039,815"/>
<area shape="rect" href="classFileSystem.html#a606ea080a2a0fe5e3be3c3f5b8f4e7bc" title="Open a file (UNIX open)" alt="" coords="1743,840,1870,867"/>
<area shape="rect" href="classOpenFileTable.html#ab0519dd960600e61b98d524281aaa882" title=" " alt="" coords="1735,1042,1879,1068"/>
<area shape="rect" href="classDirectory.html#a2525a4455b80a1ee2648319ab257037c" title="Print the names of all the files in the directory." alt="" coords="1956,1167,2059,1194"/>
<area shape="rect" href="main_8cpp.html#a42300b7160fd87b4a003e05cfa902ae4" title=" " alt="" coords="1573,334,1623,360"/>
<area shape="rect" href="classProcess.html#acc8b64d45800f641a937ca447f080d10" title=" " alt="" coords="1535,891,1661,918"/>
</map>
</div>

</div>
</div>
<a id="abecdf19e160925b1bc9b4542c90de2ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abecdf19e160925b1bc9b4542c90de2ac">&#9670;&nbsp;</a></span>TimeToSeek()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Disk::TimeToSeek </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newSector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>rotation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns how long it will take to position the disk head over the correct track on the disk. Since when we finish seeking, we are likely to be in the middle of a sector that is rotating past the head, we also return how long until the head is at the next sector boundary.</p>
<p><a class="el" href="classDisk.html" title="Defines a physical disk I/O device.">Disk</a> seeks at one track per SEEK_TIME nanos (cf. <a class="el" href="stats_8hpp.html" title="Data structures for gathering statistics about Nachos performance.">stats.hpp</a>) and rotates at one sector per ROTATION_TIME nanos </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk_abecdf19e160925b1bc9b4542c90de2ac_cgraph.png" border="0" usemap="#classDisk_abecdf19e160925b1bc9b4542c90de2ac_cgraph" alt=""/></div>
<map name="classDisk_abecdf19e160925b1bc9b4542c90de2ac_cgraph" id="classDisk_abecdf19e160925b1bc9b4542c90de2ac_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,133,32"/>
<area shape="rect" href="classStatistics.html#a77aec82b7adb8d795c850db96c82f5d8" title=" " alt="" coords="181,5,344,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk_abecdf19e160925b1bc9b4542c90de2ac_icgraph.png" border="0" usemap="#classDisk_abecdf19e160925b1bc9b4542c90de2ac_icgraph" alt=""/></div>
<map name="classDisk_abecdf19e160925b1bc9b4542c90de2ac_icgraph" id="classDisk_abecdf19e160925b1bc9b4542c90de2ac_icgraph">
<area shape="rect" title=" " alt="" coords="3160,972,3288,999"/>
<area shape="rect" href="classDisk.html#a2337b1c68eb5f6a15502d8327d15248b" title=" " alt="" coords="2957,947,3112,974"/>
<area shape="rect" href="classDisk.html#aa87426eeedc8cf390fa4b293ecd34b42" title=" " alt="" coords="2973,998,3096,1024"/>
<area shape="rect" href="classDisk.html#a8b51a82d4f2fd009335d0c591ae11042" title=" " alt="" coords="2775,947,2909,974"/>
<area shape="rect" href="classDisk.html#aec33797c6480a8c919fc7d340c316abe" title=" " alt="" coords="2775,998,2909,1024"/>
<area shape="rect" href="classDriverDisk.html#a2e93ba9a36bba4e8b3eeb43f877b2395" title="Read a disk sector, returning only once the data is actually read." alt="" coords="2571,947,2727,974"/>
<area shape="rect" href="classFileHeader.html#aa85564cee98fc9592df08cc5e4a2efc6" title="Initialize file header from disk." alt="" coords="2105,1200,2260,1227"/>
<area shape="rect" href="classSwapManager.html#a0934e61240a5ace841499321bf0889af" title=" " alt="" coords="2328,947,2523,974"/>
<area shape="rect" href="classFileHeader.html#a57b661cda2c4d51ee06cc29e7ea0a0c0" title="Print the contents of the file." alt="" coords="2123,1327,2242,1354"/>
<area shape="rect" href="classOpenFile.html#a0af8cd52ec71a2ad407039cebee2ef3d" title=" " alt="" coords="2363,719,2488,746"/>
<area shape="rect" href="classOpenFile.html#a89136ac6b54013a413398f9496d39963" title=" " alt="" coords="1897,1226,2032,1252"/>
<area shape="rect" href="classFileSystem.html#aebaf06661b1879a62afefa5abe99f21e" title="List all the files and their contents." alt="" coords="1711,1251,1834,1278"/>
<area shape="rect" href="classDirectory.html#a40c728221c5557e4fc181c4091c6fcff" title="Verbose print of the contents of the directory – all the file names and their contents." alt="" coords="1910,1378,2019,1404"/>
<area shape="rect" href="classFileSystem.html#a52e69a068c68c6c84f02c80fd4c5389e" title="Delete a file (UNIX unlink)" alt="" coords="1501,491,1643,518"/>
<area shape="rect" href="classFileSystem.html#ae5cbf7822080d1c9bb606b5d74dd4ee5" title="Delete a directory." alt="" coords="1507,719,1637,746"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1149,618,1199,644"/>
<area shape="rect" href="classFileSystem.html#a12d63294322b37e934edd03ff614b95a" title=" " alt="" coords="1491,922,1653,948"/>
<area shape="rect" href="classOpenFileTable.html#a004541913ef8deb24d571c20d2020175" title="remove the file from the file system" alt="" coords="1284,415,1443,442"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1112,440,1236,467"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="893,339,1064,366"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="351,288,513,315"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="562,415,682,442"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="731,339,845,366"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="561,288,683,315"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="200,288,303,315"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="5,288,152,315"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="372,454,492,480"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="375,542,489,568"/>
<area shape="rect" href="classAddrSpace.html#acd3d2a68587b04ed5740e87895613821" title=" " alt="" coords="2103,694,2262,720"/>
<area shape="rect" href="classBitMap.html#ad6d12eefec9b64e903d072c83f7c29a2" title="Print contents of bitmap." alt="" coords="2115,744,2250,771"/>
<area shape="rect" href="classOpenFile.html#ad4b5d26a169a7c22e6f27c1693adb1aa" title=" " alt="" coords="1901,922,2028,948"/>
<area shape="rect" href="classDirectory.html#a36ed455b21bbd9a66ffe8ec689ff7c73" title="Init directory contents from disk." alt="" coords="1892,339,2037,366"/>
<area shape="rect" href="classOpenFile.html#af87bf2b0b15fa3501dada45a1a284bf4" title=" " alt="" coords="1516,60,1628,87"/>
<area shape="rect" href="classFileSystem.html#ac789d58815881d7f193d86085b0f54aa" title="Create a file (UNIX creat)" alt="" coords="1505,555,1639,582"/>
<area shape="rect" href="classFileSystem.html#aaf76918c6f0d24bc72aaa84625adfddf" title="List all the files in the file system." alt="" coords="1513,111,1631,138"/>
<area shape="rect" href="classFileSystem.html#a9b4f11a12aed939e691edd6d591a8fcf" title="Create a new directory." alt="" coords="1508,871,1636,898"/>
<area shape="rect" href="classOpenFileTableEntry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="1496,805,1648,846"/>
<area shape="rect" href="main_8cpp.html#a8e00c17571a60a78f108e1b56b300e1f" title=" " alt="" coords="1337,618,1389,644"/>
<area shape="rect" href="classOpenFile.html#a2de8d2d805fef3510bfd2fdf46f683fa" title=" " alt="" coords="1515,972,1629,999"/>
<area shape="rect" href="classBitMap.html#a19052d41ba5a654c7e478582dffba20d" title="fetch contents from disk" alt="" coords="1707,871,1839,898"/>
<area shape="rect" href="classDirectory.html#abf5550df42587bbc604c71441a4d12fc" title="Write modifications to directory contents back to disk." alt="" coords="1701,770,1844,796"/>
<area shape="rect" href="filesys_8hpp.html#a562c4a58dde9f8b0a25dc482e23d9dc4" title=" " alt="" coords="1741,364,1804,391"/>
<area shape="rect" href="classFileSystem.html#a606ea080a2a0fe5e3be3c3f5b8f4e7bc" title="Open a file (UNIX open)" alt="" coords="1509,364,1635,391"/>
<area shape="rect" href="classOpenFileTable.html#ab0519dd960600e61b98d524281aaa882" title=" " alt="" coords="1500,162,1644,188"/>
<area shape="rect" href="classDirectory.html#a2525a4455b80a1ee2648319ab257037c" title="Print the names of all the files in the directory." alt="" coords="1721,111,1824,138"/>
<area shape="rect" href="main_8cpp.html#a42300b7160fd87b4a003e05cfa902ae4" title=" " alt="" coords="1339,263,1388,290"/>
<area shape="rect" href="classProcess.html#acc8b64d45800f641a937ca447f080d10" title=" " alt="" coords="1300,364,1427,391"/>
<area shape="rect" href="classDriverDisk.html#a74426214379e50aa0d8a7b19084887ee" title="write a disk sector, returning only once the data is actually written." alt="" coords="2347,998,2504,1024"/>
<area shape="rect" href="classSwapManager.html#a35b5428181fe6bbb69f2cdfe9df13546" title=" " alt="" coords="2085,1023,2280,1050"/>
<area shape="rect" href="classFileHeader.html#ab896cc7dd7274e3f8072da2c7d9beee8" title="Write modifications to file header back to disk." alt="" coords="2106,972,2259,999"/>
</map>
</div>

</div>
</div>
<a id="aa87426eeedc8cf390fa4b293ecd34b42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa87426eeedc8cf390fa4b293ecd34b42">&#9670;&nbsp;</a></span>UpdateLast()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Disk::UpdateLast </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newSector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<h1><a class="anchor" id="autotoc_md2"></a>
sectors between to and from</h1>
<p>Keep track of the most recently requested sector. So we can know what is in the track buffer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newSector</td><td>accessed sector </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk_aa87426eeedc8cf390fa4b293ecd34b42_cgraph.png" border="0" usemap="#classDisk_aa87426eeedc8cf390fa4b293ecd34b42_cgraph" alt=""/></div>
<map name="classDisk_aa87426eeedc8cf390fa4b293ecd34b42_cgraph" id="classDisk_aa87426eeedc8cf390fa4b293ecd34b42_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,128,32"/>
<area shape="rect" href="classStatistics.html#a77aec82b7adb8d795c850db96c82f5d8" title=" " alt="" coords="352,5,515,32"/>
<area shape="rect" href="classDisk.html#abecdf19e160925b1bc9b4542c90de2ac" title=" " alt="" coords="176,31,304,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk_aa87426eeedc8cf390fa4b293ecd34b42_icgraph.png" border="0" usemap="#classDisk_aa87426eeedc8cf390fa4b293ecd34b42_icgraph" alt=""/></div>
<map name="classDisk_aa87426eeedc8cf390fa4b293ecd34b42_icgraph" id="classDisk_aa87426eeedc8cf390fa4b293ecd34b42_icgraph">
<area shape="rect" title=" " alt="" coords="3192,972,3315,999"/>
<area shape="rect" href="classDisk.html#a8b51a82d4f2fd009335d0c591ae11042" title=" " alt="" coords="3009,947,3144,974"/>
<area shape="rect" href="classDisk.html#aec33797c6480a8c919fc7d340c316abe" title=" " alt="" coords="3009,998,3144,1024"/>
<area shape="rect" href="classDriverDisk.html#a2e93ba9a36bba4e8b3eeb43f877b2395" title="Read a disk sector, returning only once the data is actually read." alt="" coords="2805,947,2961,974"/>
<area shape="rect" href="classFileHeader.html#aa85564cee98fc9592df08cc5e4a2efc6" title="Initialize file header from disk." alt="" coords="2340,1200,2495,1227"/>
<area shape="rect" href="classSwapManager.html#a0934e61240a5ace841499321bf0889af" title=" " alt="" coords="2563,947,2757,974"/>
<area shape="rect" href="classFileHeader.html#a57b661cda2c4d51ee06cc29e7ea0a0c0" title="Print the contents of the file." alt="" coords="2358,1327,2477,1354"/>
<area shape="rect" href="classOpenFile.html#a0af8cd52ec71a2ad407039cebee2ef3d" title=" " alt="" coords="2597,719,2723,746"/>
<area shape="rect" href="classOpenFile.html#a89136ac6b54013a413398f9496d39963" title=" " alt="" coords="2132,1226,2267,1252"/>
<area shape="rect" href="classFileSystem.html#aebaf06661b1879a62afefa5abe99f21e" title="List all the files and their contents." alt="" coords="1946,1251,2069,1278"/>
<area shape="rect" href="classDirectory.html#a40c728221c5557e4fc181c4091c6fcff" title="Verbose print of the contents of the directory – all the file names and their contents." alt="" coords="2145,1378,2254,1404"/>
<area shape="rect" href="classFileSystem.html#a52e69a068c68c6c84f02c80fd4c5389e" title="Delete a file (UNIX unlink)" alt="" coords="1735,491,1878,518"/>
<area shape="rect" href="classFileSystem.html#ae5cbf7822080d1c9bb606b5d74dd4ee5" title="Delete a directory." alt="" coords="1741,719,1872,746"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1383,618,1434,644"/>
<area shape="rect" href="classFileSystem.html#a12d63294322b37e934edd03ff614b95a" title=" " alt="" coords="1725,922,1888,948"/>
<area shape="rect" href="classOpenFileTable.html#a004541913ef8deb24d571c20d2020175" title="remove the file from the file system" alt="" coords="1519,415,1677,442"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,440,1471,467"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,339,1299,366"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,288,748,315"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,415,917,442"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,339,1080,366"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,288,917,315"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,288,537,315"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,288,387,315"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,288,192,315"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,454,727,480"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,542,724,568"/>
<area shape="rect" href="classAddrSpace.html#acd3d2a68587b04ed5740e87895613821" title=" " alt="" coords="2338,694,2497,720"/>
<area shape="rect" href="classBitMap.html#ad6d12eefec9b64e903d072c83f7c29a2" title="Print contents of bitmap." alt="" coords="2350,744,2485,771"/>
<area shape="rect" href="classOpenFile.html#ad4b5d26a169a7c22e6f27c1693adb1aa" title=" " alt="" coords="2136,922,2263,948"/>
<area shape="rect" href="classDirectory.html#a36ed455b21bbd9a66ffe8ec689ff7c73" title="Init directory contents from disk." alt="" coords="2127,339,2272,366"/>
<area shape="rect" href="classOpenFile.html#af87bf2b0b15fa3501dada45a1a284bf4" title=" " alt="" coords="1751,60,1863,87"/>
<area shape="rect" href="classFileSystem.html#ac789d58815881d7f193d86085b0f54aa" title="Create a file (UNIX creat)" alt="" coords="1739,555,1874,582"/>
<area shape="rect" href="classFileSystem.html#aaf76918c6f0d24bc72aaa84625adfddf" title="List all the files in the file system." alt="" coords="1748,111,1865,138"/>
<area shape="rect" href="classFileSystem.html#a9b4f11a12aed939e691edd6d591a8fcf" title="Create a new directory." alt="" coords="1743,871,1871,898"/>
<area shape="rect" href="classOpenFileTableEntry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="1731,805,1883,846"/>
<area shape="rect" href="main_8cpp.html#a8e00c17571a60a78f108e1b56b300e1f" title=" " alt="" coords="1572,618,1624,644"/>
<area shape="rect" href="classOpenFile.html#a2de8d2d805fef3510bfd2fdf46f683fa" title=" " alt="" coords="1750,972,1863,999"/>
<area shape="rect" href="classBitMap.html#a19052d41ba5a654c7e478582dffba20d" title="fetch contents from disk" alt="" coords="1941,871,2073,898"/>
<area shape="rect" href="classDirectory.html#abf5550df42587bbc604c71441a4d12fc" title="Write modifications to directory contents back to disk." alt="" coords="1936,770,2079,796"/>
<area shape="rect" href="filesys_8hpp.html#a562c4a58dde9f8b0a25dc482e23d9dc4" title=" " alt="" coords="1976,364,2039,391"/>
<area shape="rect" href="classFileSystem.html#a606ea080a2a0fe5e3be3c3f5b8f4e7bc" title="Open a file (UNIX open)" alt="" coords="1743,364,1870,391"/>
<area shape="rect" href="classOpenFileTable.html#ab0519dd960600e61b98d524281aaa882" title=" " alt="" coords="1735,162,1879,188"/>
<area shape="rect" href="classDirectory.html#a2525a4455b80a1ee2648319ab257037c" title="Print the names of all the files in the directory." alt="" coords="1956,111,2059,138"/>
<area shape="rect" href="main_8cpp.html#a42300b7160fd87b4a003e05cfa902ae4" title=" " alt="" coords="1573,263,1623,290"/>
<area shape="rect" href="classProcess.html#acc8b64d45800f641a937ca447f080d10" title=" " alt="" coords="1535,364,1661,391"/>
<area shape="rect" href="classDriverDisk.html#a74426214379e50aa0d8a7b19084887ee" title="write a disk sector, returning only once the data is actually written." alt="" coords="2581,998,2739,1024"/>
<area shape="rect" href="classSwapManager.html#a35b5428181fe6bbb69f2cdfe9df13546" title=" " alt="" coords="2320,1023,2515,1050"/>
<area shape="rect" href="classFileHeader.html#ab896cc7dd7274e3f8072da2c7d9beee8" title="Write modifications to file header back to disk." alt="" coords="2341,972,2494,999"/>
</map>
</div>

</div>
</div>
<a id="aec33797c6480a8c919fc7d340c316abe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec33797c6480a8c919fc7d340c316abe">&#9670;&nbsp;</a></span>WriteRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Disk::WriteRequest </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sectorNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Simulate a request to write a single disk sector Do the write immediately to the UNIX file Set up an interrupt handler to be called later, that will notify the caller when the simulator says the operation has completed.</p>
<p>Note that a disk only allows an entire sector to be written, not part of a sector.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sectorNumber</td><td>the disk sector to write </td></tr>
    <tr><td class="paramname">data</td><td>the bytes to be written </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk_aec33797c6480a8c919fc7d340c316abe_cgraph.png" border="0" usemap="#classDisk_aec33797c6480a8c919fc7d340c316abe_cgraph" alt=""/></div>
<map name="classDisk_aec33797c6480a8c919fc7d340c316abe_cgraph" id="classDisk_aec33797c6480a8c919fc7d340c316abe_cgraph">
<area shape="rect" title=" " alt="" coords="5,294,140,321"/>
<area shape="rect" href="classDisk.html#a2337b1c68eb5f6a15502d8327d15248b" title=" " alt="" coords="199,193,353,219"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="442,142,510,169"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="611,66,727,93"/>
<area shape="rect" href="disk_8cpp.html#a03b355bcf0d41c1fdeb1c69fb067fc1a" title="dummy procedure because we can&#39;t take a pointer of a member function" alt="" coords="237,294,315,321"/>
<area shape="rect" href="classThread.html#ade294fd013100034bebd745d8ffb1f94" title="Returns the process owner." alt="" coords="189,345,363,371"/>
<area shape="rect" href="classProcessStat.html#ad8f0597460874ad1dcf515fa3b58b9c8" title=" " alt="" coords="188,396,364,437"/>
<area shape="rect" href="sysdep_8cpp.html#a5e24d90699a8caf5d5ecf0ea461050b4" title="Change the location within an open file. Abort on error." alt="" coords="247,462,305,489"/>
<area shape="rect" href="disk_8cpp.html#a3f97a10c00c77d969f5ec6423403b6cc" title="Dump the data in a disk read/write request, for debugging only." alt="" coords="233,513,319,539"/>
<area shape="rect" href="classInterrupt.html#ac403a14a9e41fa2b6dbd5c6056b87389" title="Print interrupt state." alt="" coords="211,91,341,118"/>
<area shape="rect" href="classDisk.html#aa87426eeedc8cf390fa4b293ecd34b42" title=" " alt="" coords="215,243,337,270"/>
<area shape="rect" href="sysdep_8cpp.html#a423758a22b76ab4ab8dce5afd92b83cd" title="Write characters to an open file. Abort if write fails." alt="" coords="239,563,313,590"/>
<area shape="rect" href="classStatistics.html#a77aec82b7adb8d795c850db96c82f5d8" title=" " alt="" coords="588,269,751,295"/>
<area shape="rect" href="classDisk.html#abf14ace693df2b08e1187045305e81a5" title="time to get to the new track" alt="" coords="418,193,534,219"/>
<area shape="rect" href="classDisk.html#abecdf19e160925b1bc9b4542c90de2ac" title=" " alt="" coords="412,294,540,321"/>
<area shape="rect" href="classList.html#a7c94145ed3ab4115dd2a87e25eeadc91" title=" " alt="" coords="415,41,537,67"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classDisk_aec33797c6480a8c919fc7d340c316abe_icgraph.png" border="0" usemap="#classDisk_aec33797c6480a8c919fc7d340c316abe_icgraph" alt=""/></div>
<map name="classDisk_aec33797c6480a8c919fc7d340c316abe_icgraph" id="classDisk_aec33797c6480a8c919fc7d340c316abe_icgraph">
<area shape="rect" title=" " alt="" coords="2749,208,2884,235"/>
<area shape="rect" href="classDriverDisk.html#a74426214379e50aa0d8a7b19084887ee" title="write a disk sector, returning only once the data is actually written." alt="" coords="2544,208,2701,235"/>
<area shape="rect" href="classSwapManager.html#a35b5428181fe6bbb69f2cdfe9df13546" title=" " alt="" coords="2301,157,2496,184"/>
<area shape="rect" href="classOpenFile.html#ad4b5d26a169a7c22e6f27c1693adb1aa" title=" " alt="" coords="2127,259,2253,285"/>
<area shape="rect" href="classFileHeader.html#ab896cc7dd7274e3f8072da2c7d9beee8" title="Write modifications to file header back to disk." alt="" coords="2322,208,2475,235"/>
<area shape="rect" href="classOpenFile.html#a2de8d2d805fef3510bfd2fdf46f683fa" title=" " alt="" coords="1750,56,1863,83"/>
<area shape="rect" href="classBitMap.html#a19052d41ba5a654c7e478582dffba20d" title="fetch contents from disk" alt="" coords="1941,309,2073,336"/>
<area shape="rect" href="classDirectory.html#abf5550df42587bbc604c71441a4d12fc" title="Write modifications to directory contents back to disk." alt="" coords="1936,259,2079,285"/>
<area shape="rect" href="main_8cpp.html#a8e00c17571a60a78f108e1b56b300e1f" title=" " alt="" coords="1572,107,1624,133"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,208,1471,235"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1383,309,1434,336"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,107,1299,133"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,56,748,83"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,183,917,209"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,107,1080,133"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,5,917,32"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,56,537,83"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,56,387,83"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,56,192,83"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,221,727,248"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,272,724,299"/>
<area shape="rect" href="classFileSystem.html#ac789d58815881d7f193d86085b0f54aa" title="Create a file (UNIX creat)" alt="" coords="1739,157,1874,184"/>
<area shape="rect" href="classFileSystem.html#a12d63294322b37e934edd03ff614b95a" title=" " alt="" coords="1725,107,1888,133"/>
<area shape="rect" href="classFileSystem.html#a9b4f11a12aed939e691edd6d591a8fcf" title="Create a new directory." alt="" coords="1743,411,1871,437"/>
<area shape="rect" href="classFileSystem.html#a52e69a068c68c6c84f02c80fd4c5389e" title="Delete a file (UNIX unlink)" alt="" coords="1735,309,1878,336"/>
<area shape="rect" href="classFileSystem.html#ae5cbf7822080d1c9bb606b5d74dd4ee5" title="Delete a directory." alt="" coords="1533,259,1663,285"/>
<area shape="rect" href="classOpenFileTableEntry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="1731,462,1883,503"/>
<area shape="rect" href="classOpenFileTable.html#a004541913ef8deb24d571c20d2020175" title="remove the file from the file system" alt="" coords="1519,208,1677,235"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a41ece24e9dead4ad0af20607d3ac4934"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41ece24e9dead4ad0af20607d3ac4934">&#9670;&nbsp;</a></span>active</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Disk::active</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is a disk operation in progress? </p>

</div>
</div>
<a id="a1de9a24527782fe0ad3bad8096951077"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1de9a24527782fe0ad3bad8096951077">&#9670;&nbsp;</a></span>bufferInit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utility_8hpp.html#a404f45f62799218047ab2cfe96f408d5">Time</a> Disk::bufferInit</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When the track buffer started being loaded. </p>

</div>
</div>
<a id="a27881148b34cffd7005df5d7353ce775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27881148b34cffd7005df5d7353ce775">&#9670;&nbsp;</a></span>fileno</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Disk::fileno</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>UNIX file number for simulated disk. </p>

</div>
</div>
<a id="a0c18ccdc11e90056f005dfc68df677f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c18ccdc11e90056f005dfc68df677f3">&#9670;&nbsp;</a></span>handler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utility_8hpp.html#a9c6f12cbff87535a17c52ca7d975f2a5">VoidNoArgFunctionPtr</a> Disk::handler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classInterrupt.html" title="Defines a low level interrupt hardware.">Interrupt</a> handler, to be invoked when any disk request finishes. </p>

</div>
</div>
<a id="a09339a72e2d38a32238934f0ae2ae1bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09339a72e2d38a32238934f0ae2ae1bb">&#9670;&nbsp;</a></span>lastSector</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Disk::lastSector</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The previous disk request. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>machine/<a class="el" href="disk_8hpp_source.html">disk.hpp</a></li>
<li>machine/<a class="el" href="disk_8cpp.html">disk.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classDisk.html">Disk</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
