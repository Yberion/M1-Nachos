<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nachos: OpenFile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nachos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classOpenFile.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classOpenFile-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OpenFile Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines the data structure maintained when a file is opened.  
 <a href="classOpenFile.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="openfile_8hpp_source.html">openfile.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for OpenFile:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile__coll__graph.png" border="0" usemap="#OpenFile_coll__map" alt="Collaboration graph"/></div>
<map name="OpenFile_coll__map" id="OpenFile_coll__map">
<area shape="rect" title="Defines the data structure maintained when a file is opened." alt="" coords="16,424,141,707"/>
<area shape="rect" href="classFileHeader.html" title="Defines a file header in the Nachos file system." alt="" coords="5,5,152,361"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a89136ac6b54013a413398f9496d39963"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#a89136ac6b54013a413398f9496d39963">OpenFile</a> (int sector)</td></tr>
<tr class="separator:a89136ac6b54013a413398f9496d39963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d59e2d0a4e8eb5f21f31f7179dd6e50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#a1d59e2d0a4e8eb5f21f31f7179dd6e50">~OpenFile</a> ()</td></tr>
<tr class="memdesc:a1d59e2d0a4e8eb5f21f31f7179dd6e50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the file.  <a href="classOpenFile.html#a1d59e2d0a4e8eb5f21f31f7179dd6e50">More...</a><br /></td></tr>
<tr class="separator:a1d59e2d0a4e8eb5f21f31f7179dd6e50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00f20ca65c80be4e6039a9f04cb03374"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#a00f20ca65c80be4e6039a9f04cb03374">Seek</a> (int position)</td></tr>
<tr class="separator:a00f20ca65c80be4e6039a9f04cb03374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87bf2b0b15fa3501dada45a1a284bf4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#af87bf2b0b15fa3501dada45a1a284bf4">Read</a> (char *into, int numBytes)</td></tr>
<tr class="separator:af87bf2b0b15fa3501dada45a1a284bf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2de8d2d805fef3510bfd2fdf46f683fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#a2de8d2d805fef3510bfd2fdf46f683fa">Write</a> (char *from, int numBytes)</td></tr>
<tr class="separator:a2de8d2d805fef3510bfd2fdf46f683fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0af8cd52ec71a2ad407039cebee2ef3d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#a0af8cd52ec71a2ad407039cebee2ef3d">ReadAt</a> (char *into, int numBytes, int position)</td></tr>
<tr class="separator:a0af8cd52ec71a2ad407039cebee2ef3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4b5d26a169a7c22e6f27c1693adb1aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#ad4b5d26a169a7c22e6f27c1693adb1aa">WriteAt</a> (char *from, int numBytes, int position)</td></tr>
<tr class="separator:ad4b5d26a169a7c22e6f27c1693adb1aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d5618da2388829f294c3f33017fadac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#a5d5618da2388829f294c3f33017fadac">Length</a> ()</td></tr>
<tr class="memdesc:a5d5618da2388829f294c3f33017fadac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of bytes in the file.  <a href="classOpenFile.html#a5d5618da2388829f294c3f33017fadac">More...</a><br /></td></tr>
<tr class="separator:a5d5618da2388829f294c3f33017fadac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c9c2e3e078fc71c99e0f589493fa28e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFileHeader.html">FileHeader</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#a2c9c2e3e078fc71c99e0f589493fa28e">GetFileHeader</a> ()</td></tr>
<tr class="memdesc:a2c9c2e3e078fc71c99e0f589493fa28e"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the file's header  <a href="classOpenFile.html#a2c9c2e3e078fc71c99e0f589493fa28e">More...</a><br /></td></tr>
<tr class="separator:a2c9c2e3e078fc71c99e0f589493fa28e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99da585bad8c8e1916ca3eeaf78539b7"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#a99da585bad8c8e1916ca3eeaf78539b7">GetName</a> ()</td></tr>
<tr class="memdesc:a99da585bad8c8e1916ca3eeaf78539b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the file's name  <a href="classOpenFile.html#a99da585bad8c8e1916ca3eeaf78539b7">More...</a><br /></td></tr>
<tr class="separator:a99da585bad8c8e1916ca3eeaf78539b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55f2403097b272cec23712007d4a11b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#a55f2403097b272cec23712007d4a11b5">SetName</a> (char *)</td></tr>
<tr class="memdesc:a55f2403097b272cec23712007d4a11b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the file's name.  <a href="classOpenFile.html#a55f2403097b272cec23712007d4a11b5">More...</a><br /></td></tr>
<tr class="separator:a55f2403097b272cec23712007d4a11b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa8600eb2b54645780d5a6208ad85762"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#aaa8600eb2b54645780d5a6208ad85762">IsDir</a> ()</td></tr>
<tr class="memdesc:aaa8600eb2b54645780d5a6208ad85762"><td class="mdescLeft">&#160;</td><td class="mdescRight">return true if the file is a directory  <a href="classOpenFile.html#aaa8600eb2b54645780d5a6208ad85762">More...</a><br /></td></tr>
<tr class="separator:aaa8600eb2b54645780d5a6208ad85762"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a7ee14d7e9d6ddb91f11e2de8d028c053"><td class="memItemLeft" align="right" valign="top"><a class="el" href="system_8hpp.html#a842c5e2e69277690b064bf363c017980">ObjectType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#a7ee14d7e9d6ddb91f11e2de8d028c053">type</a></td></tr>
<tr class="separator:a7ee14d7e9d6ddb91f11e2de8d028c053"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8df073bef217507f97f8fa923cdf5c57"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#a8df073bef217507f97f8fa923cdf5c57">name</a></td></tr>
<tr class="memdesc:a8df073bef217507f97f8fa923cdf5c57"><td class="mdescLeft">&#160;</td><td class="mdescRight">the file's name.  <a href="classOpenFile.html#a8df073bef217507f97f8fa923cdf5c57">More...</a><br /></td></tr>
<tr class="separator:a8df073bef217507f97f8fa923cdf5c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aaa8d3ea50b339ebd9e9c4d9cc1ff9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFileHeader.html">FileHeader</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#a4aaa8d3ea50b339ebd9e9c4d9cc1ff9e">hdr</a></td></tr>
<tr class="memdesc:a4aaa8d3ea50b339ebd9e9c4d9cc1ff9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header for this file.  <a href="classOpenFile.html#a4aaa8d3ea50b339ebd9e9c4d9cc1ff9e">More...</a><br /></td></tr>
<tr class="separator:a4aaa8d3ea50b339ebd9e9c4d9cc1ff9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae73fc3708c50308938c44a9cc65ff8e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#ae73fc3708c50308938c44a9cc65ff8e2">seekPosition</a></td></tr>
<tr class="memdesc:ae73fc3708c50308938c44a9cc65ff8e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current position within the file.  <a href="classOpenFile.html#ae73fc3708c50308938c44a9cc65ff8e2">More...</a><br /></td></tr>
<tr class="separator:ae73fc3708c50308938c44a9cc65ff8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63b6413c733e0fa22a339ecdf50c5a3a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenFile.html#a63b6413c733e0fa22a339ecdf50c5a3a">fSector</a></td></tr>
<tr class="memdesc:a63b6413c733e0fa22a339ecdf50c5a3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The file's first sector.  <a href="classOpenFile.html#a63b6413c733e0fa22a339ecdf50c5a3a">More...</a><br /></td></tr>
<tr class="separator:a63b6413c733e0fa22a339ecdf50c5a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines the data structure maintained when a file is opened. </p>
<p>This is the "real" implementation, that turns these operations into read and write disk sector requests. In this baseline implementation of the file system, we don't worry about concurrent accesses to the file system by different threads &ndash; this is part of the assignment. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a89136ac6b54013a413398f9496d39963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89136ac6b54013a413398f9496d39963">&#9670;&nbsp;</a></span>OpenFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpenFile::OpenFile </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a file whose header is located at "sector" on the disk</p>
<p>Open a Nachos file for reading and writing. Bring the file header into memory while the file is open.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sector</td><td>the location on disk of the file header for this file </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_a89136ac6b54013a413398f9496d39963_cgraph.png" border="0" usemap="#classOpenFile_a89136ac6b54013a413398f9496d39963_cgraph" alt=""/></div>
<map name="classOpenFile_a89136ac6b54013a413398f9496d39963_cgraph" id="classOpenFile_a89136ac6b54013a413398f9496d39963_cgraph">
<area shape="rect" title=" " alt="" coords="5,183,140,209"/>
<area shape="rect" href="classFileHeader.html#aa85564cee98fc9592df08cc5e4a2efc6" title="Initialize file header from disk." alt="" coords="188,183,343,209"/>
<area shape="rect" href="classDriverDisk.html#a2e93ba9a36bba4e8b3eeb43f877b2395" title="Read a disk sector, returning only once the data is actually read." alt="" coords="391,183,547,209"/>
<area shape="rect" href="classLock.html#ad4c4699fd1ab73f3927b10edc01c54db" title="Acquire a lock (atomic operation)" alt="" coords="611,5,713,32"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="1031,157,1099,184"/>
<area shape="rect" href="classSemaphore.html#a4fee22da0205e3c704b08beaa17e0e7a" title=" " alt="" coords="609,183,715,209"/>
<area shape="rect" href="classDisk.html#a8b51a82d4f2fd009335d0c591ae11042" title=" " alt="" coords="595,309,729,336"/>
<area shape="rect" href="classLock.html#a5ca005b84272e56c2bf447056ee9217c" title="Release a lock (atomic operation)" alt="" coords="609,360,715,387"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="1201,132,1317,159"/>
<area shape="rect" href="classDisk.html#a2337b1c68eb5f6a15502d8327d15248b" title=" " alt="" coords="788,629,943,656"/>
<area shape="rect" href="disk_8cpp.html#a03b355bcf0d41c1fdeb1c69fb067fc1a" title="dummy procedure because we can&#39;t take a pointer of a member function" alt="" coords="826,309,905,336"/>
<area shape="rect" href="classThread.html#ade294fd013100034bebd745d8ffb1f94" title="Returns the process owner." alt="" coords="778,360,953,387"/>
<area shape="rect" href="classProcessStat.html#a8114ba343d15b3a29be80eff5a094f79" title=" " alt="" coords="777,411,953,453"/>
<area shape="rect" href="sysdep_8cpp.html#a5e24d90699a8caf5d5ecf0ea461050b4" title="Change the location within an open file. Abort on error." alt="" coords="837,477,894,504"/>
<area shape="rect" href="disk_8cpp.html#a3f97a10c00c77d969f5ec6423403b6cc" title="Dump the data in a disk read/write request, for debugging only." alt="" coords="822,528,909,555"/>
<area shape="rect" href="sysdep_8cpp.html#a6140dcc97ab52a9406e6d3f5749fa43c" title="Read characters from an open file. Abort if read fails." alt="" coords="839,579,891,605"/>
<area shape="rect" href="classInterrupt.html#ac403a14a9e41fa2b6dbd5c6056b87389" title="Print interrupt state." alt="" coords="800,208,931,235"/>
<area shape="rect" href="classDisk.html#aa87426eeedc8cf390fa4b293ecd34b42" title=" " alt="" coords="804,259,927,285"/>
<area shape="rect" href="classStatistics.html#a77aec82b7adb8d795c850db96c82f5d8" title=" " alt="" coords="1177,335,1340,361"/>
<area shape="rect" href="classDisk.html#abf14ace693df2b08e1187045305e81a5" title="time to get to the new track" alt="" coords="1007,579,1123,605"/>
<area shape="rect" href="classDisk.html#abecdf19e160925b1bc9b4542c90de2ac" title=" " alt="" coords="1001,360,1129,387"/>
<area shape="rect" href="classList.html#a7c94145ed3ab4115dd2a87e25eeadc91" title=" " alt="" coords="1005,259,1126,285"/>
</map>
</div>

</div>
</div>
<a id="a1d59e2d0a4e8eb5f21f31f7179dd6e50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d59e2d0a4e8eb5f21f31f7179dd6e50">&#9670;&nbsp;</a></span>~OpenFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpenFile::~OpenFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the file. </p>
<p>Close a Nachos file, de-allocating any in-memory data structures. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2c9c2e3e078fc71c99e0f589493fa28e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c9c2e3e078fc71c99e0f589493fa28e">&#9670;&nbsp;</a></span>GetFileHeader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFileHeader.html">FileHeader</a> * OpenFile::GetFileHeader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return the file's header </p>
<p>Return the file's <a class="el" href="classFileHeader.html" title="Defines a file header in the Nachos file system.">FileHeader</a>. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_a2c9c2e3e078fc71c99e0f589493fa28e_icgraph.png" border="0" usemap="#classOpenFile_a2c9c2e3e078fc71c99e0f589493fa28e_icgraph" alt=""/></div>
<map name="classOpenFile_a2c9c2e3e078fc71c99e0f589493fa28e_icgraph" id="classOpenFile_a2c9c2e3e078fc71c99e0f589493fa28e_icgraph">
<area shape="rect" title="return the file&#39;s header" alt="" coords="2117,288,2283,315"/>
<area shape="rect" href="filesys_8hpp.html#a562c4a58dde9f8b0a25dc482e23d9dc4" title=" " alt="" coords="1962,259,2025,285"/>
<area shape="rect" href="classOpenFileTableEntry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="1917,310,2069,351"/>
<area shape="rect" href="classFileSystem.html#ac789d58815881d7f193d86085b0f54aa" title="Create a file (UNIX creat)" alt="" coords="1730,157,1865,184"/>
<area shape="rect" href="classFileSystem.html#a9b4f11a12aed939e691edd6d591a8fcf" title="Create a new directory." alt="" coords="1534,157,1662,184"/>
<area shape="rect" href="classFileSystem.html#a606ea080a2a0fe5e3be3c3f5b8f4e7bc" title="Open a file (UNIX open)" alt="" coords="1734,81,1861,108"/>
<area shape="rect" href="classOpenFileTable.html#ab0519dd960600e61b98d524281aaa882" title=" " alt="" coords="1725,411,1869,437"/>
<area shape="rect" href="classFileSystem.html#a52e69a068c68c6c84f02c80fd4c5389e" title="Delete a file (UNIX unlink)" alt="" coords="1726,259,1869,285"/>
<area shape="rect" href="classOpenFileTable.html#a004541913ef8deb24d571c20d2020175" title="remove the file from the file system" alt="" coords="1519,360,1677,387"/>
<area shape="rect" href="classFileSystem.html#ae5cbf7822080d1c9bb606b5d74dd4ee5" title="Delete a directory." alt="" coords="1533,309,1663,336"/>
<area shape="rect" href="main_8cpp.html#a8e00c17571a60a78f108e1b56b300e1f" title=" " alt="" coords="1572,107,1624,133"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,309,1471,336"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1383,157,1434,184"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,208,1299,235"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,157,748,184"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,284,917,311"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,208,1080,235"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,157,917,184"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,157,537,184"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,157,387,184"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,157,192,184"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,323,727,349"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,411,724,437"/>
<area shape="rect" href="main_8cpp.html#a42300b7160fd87b4a003e05cfa902ae4" title=" " alt="" coords="1573,5,1623,32"/>
<area shape="rect" href="classProcess.html#acc8b64d45800f641a937ca447f080d10" title=" " alt="" coords="1535,56,1661,83"/>
</map>
</div>

</div>
</div>
<a id="a99da585bad8c8e1916ca3eeaf78539b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99da585bad8c8e1916ca3eeaf78539b7">&#9670;&nbsp;</a></span>GetName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * OpenFile::GetName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return the file's name </p>
<p>Return the name of the file. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_a99da585bad8c8e1916ca3eeaf78539b7_icgraph.png" border="0" usemap="#classOpenFile_a99da585bad8c8e1916ca3eeaf78539b7_icgraph" alt=""/></div>
<map name="classOpenFile_a99da585bad8c8e1916ca3eeaf78539b7_icgraph" id="classOpenFile_a99da585bad8c8e1916ca3eeaf78539b7_icgraph">
<area shape="rect" title="return the file&#39;s name" alt="" coords="1553,153,1691,179"/>
<area shape="rect" href="classAddrSpace.html#acd3d2a68587b04ed5740e87895613821" title=" " alt="" coords="1347,127,1505,154"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1364,178,1488,205"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,77,1299,103"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,26,748,53"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,153,917,179"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,77,1080,103"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,26,917,53"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,26,537,53"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,26,387,53"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,26,192,53"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,191,727,218"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,242,724,269"/>
</map>
</div>

</div>
</div>
<a id="aaa8600eb2b54645780d5a6208ad85762"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa8600eb2b54645780d5a6208ad85762">&#9670;&nbsp;</a></span>IsDir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OpenFile::IsDir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return true if the file is a directory </p>
<p>Return true if the file is a directory. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_aaa8600eb2b54645780d5a6208ad85762_cgraph.png" border="0" usemap="#classOpenFile_aaa8600eb2b54645780d5a6208ad85762_cgraph" alt=""/></div>
<map name="classOpenFile_aaa8600eb2b54645780d5a6208ad85762_cgraph" id="classOpenFile_aaa8600eb2b54645780d5a6208ad85762_cgraph">
<area shape="rect" title="return true if the file is a directory" alt="" coords="5,5,113,32"/>
<area shape="rect" href="classFileHeader.html#ae43a97c41cef7b52a01c5d1da28ed3fa" title=" " alt="" coords="161,5,280,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_aaa8600eb2b54645780d5a6208ad85762_icgraph.png" border="0" usemap="#classOpenFile_aaa8600eb2b54645780d5a6208ad85762_icgraph" alt=""/></div>
<map name="classOpenFile_aaa8600eb2b54645780d5a6208ad85762_icgraph" id="classOpenFile_aaa8600eb2b54645780d5a6208ad85762_icgraph">
<area shape="rect" title="return true if the file is a directory" alt="" coords="1885,225,1993,252"/>
<area shape="rect" href="classDirectory.html#a2525a4455b80a1ee2648319ab257037c" title="Print the names of all the files in the directory." alt="" coords="1714,225,1817,252"/>
<area shape="rect" href="classFileSystem.html#a606ea080a2a0fe5e3be3c3f5b8f4e7bc" title="Open a file (UNIX open)" alt="" coords="1702,289,1829,316"/>
<area shape="rect" href="classOpenFileTable.html#ab0519dd960600e61b98d524281aaa882" title=" " alt="" coords="1693,151,1837,177"/>
<area shape="rect" href="classFileSystem.html#aaf76918c6f0d24bc72aaa84625adfddf" title="List all the files in the file system." alt="" coords="1523,201,1641,228"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,176,1471,203"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1383,252,1434,279"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,75,1299,101"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,24,748,51"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,151,917,177"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,75,1080,101"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,24,917,51"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,24,537,51"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,24,387,51"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,24,192,51"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,189,727,216"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,277,724,304"/>
<area shape="rect" href="main_8cpp.html#a8e00c17571a60a78f108e1b56b300e1f" title=" " alt="" coords="1556,303,1608,329"/>
<area shape="rect" href="main_8cpp.html#a42300b7160fd87b4a003e05cfa902ae4" title=" " alt="" coords="1557,252,1607,279"/>
<area shape="rect" href="classProcess.html#acc8b64d45800f641a937ca447f080d10" title=" " alt="" coords="1519,353,1645,380"/>
</map>
</div>

</div>
</div>
<a id="a5d5618da2388829f294c3f33017fadac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d5618da2388829f294c3f33017fadac">&#9670;&nbsp;</a></span>Length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OpenFile::Length </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the number of bytes in the file. </p>
<p>Return the number of bytes in the file (this interface is simpler than the UNIX idiom &ndash; lseek to end of file, tell, lseek back </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_a5d5618da2388829f294c3f33017fadac_cgraph.png" border="0" usemap="#classOpenFile_a5d5618da2388829f294c3f33017fadac_cgraph" alt=""/></div>
<map name="classOpenFile_a5d5618da2388829f294c3f33017fadac_cgraph" id="classOpenFile_a5d5618da2388829f294c3f33017fadac_cgraph">
<area shape="rect" title="Return the number of bytes in the file." alt="" coords="5,5,127,32"/>
<area shape="rect" href="classFileHeader.html#a676d88bbc37d3d108625be75d637a8e6" title="in bytes" alt="" coords="175,5,327,32"/>
</map>
</div>

</div>
</div>
<a id="af87bf2b0b15fa3501dada45a1a284bf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af87bf2b0b15fa3501dada45a1a284bf4">&#9670;&nbsp;</a></span>Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OpenFile::Read </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>into</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read/write bytes from the file, starting at the implicit position. Return the # actually read/written, and increment position in file.</p>
<p>Read a portion of a file, starting from seekPosition. Return the number of bytes actually read, and as a side effect, increment the current position within the file.</p>
<p>Implemented using the more primitive ReadAt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">into</td><td>the buffer to contain the data to be read from disk </td></tr>
    <tr><td class="paramname">numBytes</td><td>the number of bytes to transfer </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_af87bf2b0b15fa3501dada45a1a284bf4_cgraph.png" border="0" usemap="#classOpenFile_af87bf2b0b15fa3501dada45a1a284bf4_cgraph" alt=""/></div>
<map name="classOpenFile_af87bf2b0b15fa3501dada45a1a284bf4_cgraph" id="classOpenFile_af87bf2b0b15fa3501dada45a1a284bf4_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,117,108"/>
<area shape="rect" href="classOpenFile.html#a0af8cd52ec71a2ad407039cebee2ef3d" title=" " alt="" coords="165,81,291,108"/>
<area shape="rect" href="classFileHeader.html#adacbe1c1af441d0b1e978c65a05d60f2" title="Convert a byte offset into the file to the disk sector containing the byte." alt="" coords="339,5,509,32"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="994,208,1062,235"/>
<area shape="rect" href="classFileHeader.html#a676d88bbc37d3d108625be75d637a8e6" title="in bytes" alt="" coords="348,107,500,133"/>
<area shape="rect" href="classDriverDisk.html#a2e93ba9a36bba4e8b3eeb43f877b2395" title="Read a disk sector, returning only once the data is actually read." alt="" coords="346,335,502,361"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="1163,284,1279,311"/>
<area shape="rect" href="classLock.html#ad4c4699fd1ab73f3927b10edc01c54db" title="Acquire a lock (atomic operation)" alt="" coords="573,411,676,437"/>
<area shape="rect" href="classSemaphore.html#a4fee22da0205e3c704b08beaa17e0e7a" title=" " alt="" coords="572,461,677,488"/>
<area shape="rect" href="classDisk.html#a8b51a82d4f2fd009335d0c591ae11042" title=" " alt="" coords="557,360,692,387"/>
<area shape="rect" href="classLock.html#a5ca005b84272e56c2bf447056ee9217c" title="Release a lock (atomic operation)" alt="" coords="572,309,677,336"/>
<area shape="rect" href="classDisk.html#a2337b1c68eb5f6a15502d8327d15248b" title=" " alt="" coords="751,680,905,707"/>
<area shape="rect" href="disk_8cpp.html#a03b355bcf0d41c1fdeb1c69fb067fc1a" title="dummy procedure because we can&#39;t take a pointer of a member function" alt="" coords="789,461,867,488"/>
<area shape="rect" href="classThread.html#ade294fd013100034bebd745d8ffb1f94" title="Returns the process owner." alt="" coords="741,512,915,539"/>
<area shape="rect" href="classProcessStat.html#a8114ba343d15b3a29be80eff5a094f79" title=" " alt="" coords="740,563,916,605"/>
<area shape="rect" href="sysdep_8cpp.html#a5e24d90699a8caf5d5ecf0ea461050b4" title="Change the location within an open file. Abort on error." alt="" coords="799,629,857,656"/>
<area shape="rect" href="disk_8cpp.html#a3f97a10c00c77d969f5ec6423403b6cc" title="Dump the data in a disk read/write request, for debugging only." alt="" coords="785,157,871,184"/>
<area shape="rect" href="sysdep_8cpp.html#a6140dcc97ab52a9406e6d3f5749fa43c" title="Read characters from an open file. Abort if read fails." alt="" coords="802,208,854,235"/>
<area shape="rect" href="classInterrupt.html#ac403a14a9e41fa2b6dbd5c6056b87389" title="Print interrupt state." alt="" coords="763,309,893,336"/>
<area shape="rect" href="classDisk.html#aa87426eeedc8cf390fa4b293ecd34b42" title=" " alt="" coords="767,411,889,437"/>
<area shape="rect" href="classStatistics.html#a77aec82b7adb8d795c850db96c82f5d8" title=" " alt="" coords="1140,436,1303,463"/>
<area shape="rect" href="classDisk.html#abf14ace693df2b08e1187045305e81a5" title="time to get to the new track" alt="" coords="970,680,1086,707"/>
<area shape="rect" href="classDisk.html#abecdf19e160925b1bc9b4542c90de2ac" title=" " alt="" coords="964,461,1092,488"/>
<area shape="rect" href="classList.html#a7c94145ed3ab4115dd2a87e25eeadc91" title=" " alt="" coords="967,259,1089,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_af87bf2b0b15fa3501dada45a1a284bf4_icgraph.png" border="0" usemap="#classOpenFile_af87bf2b0b15fa3501dada45a1a284bf4_icgraph" alt=""/></div>
<map name="classOpenFile_af87bf2b0b15fa3501dada45a1a284bf4_icgraph" id="classOpenFile_af87bf2b0b15fa3501dada45a1a284bf4_icgraph">
<area shape="rect" title=" " alt="" coords="1519,208,1631,235"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,144,1471,171"/>
<area shape="rect" href="main_8cpp.html#a42300b7160fd87b4a003e05cfa902ae4" title=" " alt="" coords="1384,271,1433,297"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,195,1299,221"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,245,748,272"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,132,917,159"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,195,1080,221"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,245,917,272"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,245,537,272"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,245,387,272"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,245,192,272"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,5,727,32"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,107,724,133"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1188,397,1239,424"/>
</map>
</div>

</div>
</div>
<a id="a0af8cd52ec71a2ad407039cebee2ef3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0af8cd52ec71a2ad407039cebee2ef3d">&#9670;&nbsp;</a></span>ReadAt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OpenFile::ReadAt </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>into</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read/write bytes from the file, bypassing the implicit position.</p>
<p>Read a portion of a file, starting at "position". Return the number of bytes actually read, but has no side effects.</p>
<p>There is no guarantee the request starts or ends on an even disk sector boundary; however the disk only knows how to read a whole disk sector at a time.</p>
<p>We read in all of the full or partial sectors that are part of the request, but we only copy the part we are interested in.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">into</td><td>the buffer to contain the data to be read from disk </td></tr>
    <tr><td class="paramname">numBytes</td><td>the number of bytes to transfer </td></tr>
    <tr><td class="paramname">position</td><td>the offset within the file of the first byte to be read </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_a0af8cd52ec71a2ad407039cebee2ef3d_cgraph.png" border="0" usemap="#classOpenFile_a0af8cd52ec71a2ad407039cebee2ef3d_cgraph" alt=""/></div>
<map name="classOpenFile_a0af8cd52ec71a2ad407039cebee2ef3d_cgraph" id="classOpenFile_a0af8cd52ec71a2ad407039cebee2ef3d_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,131,108"/>
<area shape="rect" href="classFileHeader.html#adacbe1c1af441d0b1e978c65a05d60f2" title="Convert a byte offset into the file to the disk sector containing the byte." alt="" coords="179,5,349,32"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="834,208,902,235"/>
<area shape="rect" href="classFileHeader.html#a676d88bbc37d3d108625be75d637a8e6" title="in bytes" alt="" coords="188,107,340,133"/>
<area shape="rect" href="classDriverDisk.html#a2e93ba9a36bba4e8b3eeb43f877b2395" title="Read a disk sector, returning only once the data is actually read." alt="" coords="186,335,342,361"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="1003,284,1119,311"/>
<area shape="rect" href="classLock.html#ad4c4699fd1ab73f3927b10edc01c54db" title="Acquire a lock (atomic operation)" alt="" coords="413,411,516,437"/>
<area shape="rect" href="classSemaphore.html#a4fee22da0205e3c704b08beaa17e0e7a" title=" " alt="" coords="412,461,517,488"/>
<area shape="rect" href="classDisk.html#a8b51a82d4f2fd009335d0c591ae11042" title=" " alt="" coords="397,360,532,387"/>
<area shape="rect" href="classLock.html#a5ca005b84272e56c2bf447056ee9217c" title="Release a lock (atomic operation)" alt="" coords="412,309,517,336"/>
<area shape="rect" href="classDisk.html#a2337b1c68eb5f6a15502d8327d15248b" title=" " alt="" coords="591,680,745,707"/>
<area shape="rect" href="disk_8cpp.html#a03b355bcf0d41c1fdeb1c69fb067fc1a" title="dummy procedure because we can&#39;t take a pointer of a member function" alt="" coords="629,461,707,488"/>
<area shape="rect" href="classThread.html#ade294fd013100034bebd745d8ffb1f94" title="Returns the process owner." alt="" coords="581,512,755,539"/>
<area shape="rect" href="classProcessStat.html#a8114ba343d15b3a29be80eff5a094f79" title=" " alt="" coords="580,563,756,605"/>
<area shape="rect" href="sysdep_8cpp.html#a5e24d90699a8caf5d5ecf0ea461050b4" title="Change the location within an open file. Abort on error." alt="" coords="639,629,697,656"/>
<area shape="rect" href="disk_8cpp.html#a3f97a10c00c77d969f5ec6423403b6cc" title="Dump the data in a disk read/write request, for debugging only." alt="" coords="625,157,711,184"/>
<area shape="rect" href="sysdep_8cpp.html#a6140dcc97ab52a9406e6d3f5749fa43c" title="Read characters from an open file. Abort if read fails." alt="" coords="642,208,694,235"/>
<area shape="rect" href="classInterrupt.html#ac403a14a9e41fa2b6dbd5c6056b87389" title="Print interrupt state." alt="" coords="603,309,733,336"/>
<area shape="rect" href="classDisk.html#aa87426eeedc8cf390fa4b293ecd34b42" title=" " alt="" coords="607,411,729,437"/>
<area shape="rect" href="classStatistics.html#a77aec82b7adb8d795c850db96c82f5d8" title=" " alt="" coords="980,436,1143,463"/>
<area shape="rect" href="classDisk.html#abf14ace693df2b08e1187045305e81a5" title="time to get to the new track" alt="" coords="810,680,926,707"/>
<area shape="rect" href="classDisk.html#abecdf19e160925b1bc9b4542c90de2ac" title=" " alt="" coords="804,461,932,488"/>
<area shape="rect" href="classList.html#a7c94145ed3ab4115dd2a87e25eeadc91" title=" " alt="" coords="807,259,929,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_a0af8cd52ec71a2ad407039cebee2ef3d_icgraph.png" border="0" usemap="#classOpenFile_a0af8cd52ec71a2ad407039cebee2ef3d_icgraph" alt=""/></div>
<map name="classOpenFile_a0af8cd52ec71a2ad407039cebee2ef3d_icgraph" id="classOpenFile_a0af8cd52ec71a2ad407039cebee2ef3d_icgraph">
<area shape="rect" title=" " alt="" coords="2527,821,2652,848"/>
<area shape="rect" href="classAddrSpace.html#acd3d2a68587b04ed5740e87895613821" title=" " alt="" coords="2320,720,2479,747"/>
<area shape="rect" href="classBitMap.html#ad6d12eefec9b64e903d072c83f7c29a2" title="Print contents of bitmap." alt="" coords="2332,821,2467,848"/>
<area shape="rect" href="classOpenFile.html#ad4b5d26a169a7c22e6f27c1693adb1aa" title=" " alt="" coords="2136,923,2263,949"/>
<area shape="rect" href="classDirectory.html#a36ed455b21bbd9a66ffe8ec689ff7c73" title="Init directory contents from disk." alt="" coords="2127,441,2272,468"/>
<area shape="rect" href="classOpenFile.html#af87bf2b0b15fa3501dada45a1a284bf4" title=" " alt="" coords="1751,939,1863,965"/>
<area shape="rect" href="classFileSystem.html#ac789d58815881d7f193d86085b0f54aa" title="Create a file (UNIX creat)" alt="" coords="1739,720,1874,747"/>
<area shape="rect" href="classFileSystem.html#aaf76918c6f0d24bc72aaa84625adfddf" title="List all the files in the file system." alt="" coords="1748,213,1865,240"/>
<area shape="rect" href="classFileSystem.html#a9b4f11a12aed939e691edd6d591a8fcf" title="Create a new directory." alt="" coords="1743,467,1871,493"/>
<area shape="rect" href="classFileSystem.html#aebaf06661b1879a62afefa5abe99f21e" title="List all the files and their contents." alt="" coords="1946,88,2069,115"/>
<area shape="rect" href="classFileSystem.html#a52e69a068c68c6c84f02c80fd4c5389e" title="Delete a file (UNIX unlink)" alt="" coords="1735,619,1878,645"/>
<area shape="rect" href="classFileSystem.html#ae5cbf7822080d1c9bb606b5d74dd4ee5" title="Delete a directory." alt="" coords="1741,771,1872,797"/>
<area shape="rect" href="classOpenFileTableEntry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="1731,873,1883,914"/>
<area shape="rect" href="main_8cpp.html#a8e00c17571a60a78f108e1b56b300e1f" title=" " alt="" coords="1572,669,1624,696"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,669,1471,696"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1383,467,1434,493"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,568,1299,595"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,517,748,544"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,644,917,671"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,568,1080,595"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,517,917,544"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,517,537,544"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,517,387,544"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,517,192,544"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,683,727,709"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,771,724,797"/>
<area shape="rect" href="classOpenFileTable.html#a004541913ef8deb24d571c20d2020175" title="remove the file from the file system" alt="" coords="1519,619,1677,645"/>
<area shape="rect" href="classOpenFile.html#a2de8d2d805fef3510bfd2fdf46f683fa" title=" " alt="" coords="1750,989,1863,1016"/>
<area shape="rect" href="classBitMap.html#a19052d41ba5a654c7e478582dffba20d" title="fetch contents from disk" alt="" coords="1941,923,2073,949"/>
<area shape="rect" href="classDirectory.html#abf5550df42587bbc604c71441a4d12fc" title="Write modifications to directory contents back to disk." alt="" coords="1936,669,2079,696"/>
<area shape="rect" href="classFileSystem.html#a12d63294322b37e934edd03ff614b95a" title=" " alt="" coords="1725,821,1888,848"/>
<area shape="rect" href="filesys_8hpp.html#a562c4a58dde9f8b0a25dc482e23d9dc4" title=" " alt="" coords="1976,467,2039,493"/>
<area shape="rect" href="classFileSystem.html#a606ea080a2a0fe5e3be3c3f5b8f4e7bc" title="Open a file (UNIX open)" alt="" coords="1743,416,1870,443"/>
<area shape="rect" href="classOpenFileTable.html#ab0519dd960600e61b98d524281aaa882" title=" " alt="" coords="1735,315,1879,341"/>
<area shape="rect" href="classDirectory.html#a2525a4455b80a1ee2648319ab257037c" title="Print the names of all the files in the directory." alt="" coords="1956,264,2059,291"/>
<area shape="rect" href="main_8cpp.html#a42300b7160fd87b4a003e05cfa902ae4" title=" " alt="" coords="1573,416,1623,443"/>
<area shape="rect" href="classProcess.html#acc8b64d45800f641a937ca447f080d10" title=" " alt="" coords="1535,365,1661,392"/>
</map>
</div>

</div>
</div>
<a id="a00f20ca65c80be4e6039a9f04cb03374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00f20ca65c80be4e6039a9f04cb03374">&#9670;&nbsp;</a></span>Seek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpenFile::Seek </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the position from which to start reading/writing &ndash; UNIX lseek</p>
<p>Change the current location within the open file &ndash; the point at which the next Read or Write will start from.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>the location within the file for the next Read/Write </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_a00f20ca65c80be4e6039a9f04cb03374_icgraph.png" border="0" usemap="#classOpenFile_a00f20ca65c80be4e6039a9f04cb03374_icgraph" alt=""/></div>
<map name="classOpenFile_a00f20ca65c80be4e6039a9f04cb03374_icgraph" id="classOpenFile_a00f20ca65c80be4e6039a9f04cb03374_icgraph">
<area shape="rect" title=" " alt="" coords="1519,176,1631,203"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,176,1471,203"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,75,1299,101"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,24,748,51"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,151,917,177"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,75,1080,101"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,24,917,51"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,24,537,51"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,24,387,51"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,24,192,51"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,189,727,216"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,240,724,267"/>
</map>
</div>

</div>
</div>
<a id="a55f2403097b272cec23712007d4a11b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55f2403097b272cec23712007d4a11b5">&#9670;&nbsp;</a></span>SetName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpenFile::SetName </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>newname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the file's name. </p>
<p>Set the name of the file. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_a55f2403097b272cec23712007d4a11b5_icgraph.png" border="0" usemap="#classOpenFile_a55f2403097b272cec23712007d4a11b5_icgraph" alt=""/></div>
<map name="classOpenFile_a55f2403097b272cec23712007d4a11b5_icgraph" id="classOpenFile_a55f2403097b272cec23712007d4a11b5_icgraph">
<area shape="rect" title="Set the file&#39;s name." alt="" coords="1713,108,1849,135"/>
<area shape="rect" href="classFileSystem.html#a606ea080a2a0fe5e3be3c3f5b8f4e7bc" title="Open a file (UNIX open)" alt="" coords="1530,81,1657,108"/>
<area shape="rect" href="classOpenFileTable.html#ab0519dd960600e61b98d524281aaa882" title=" " alt="" coords="1521,145,1665,172"/>
<area shape="rect" href="main_8cpp.html#a8e00c17571a60a78f108e1b56b300e1f" title=" " alt="" coords="1384,5,1436,32"/>
<area shape="rect" href="main_8cpp.html#a42300b7160fd87b4a003e05cfa902ae4" title=" " alt="" coords="1385,56,1435,83"/>
<area shape="rect" href="classProcess.html#acc8b64d45800f641a937ca447f080d10" title=" " alt="" coords="1347,107,1473,133"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1188,5,1239,32"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1348,157,1472,184"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,259,1299,285"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,309,748,336"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,196,917,223"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,259,1080,285"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,309,917,336"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,309,537,336"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,309,387,336"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,309,192,336"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,69,727,96"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,171,724,197"/>
</map>
</div>

</div>
</div>
<a id="a2de8d2d805fef3510bfd2fdf46f683fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2de8d2d805fef3510bfd2fdf46f683fa">&#9670;&nbsp;</a></span>Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OpenFile::Write </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>into</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a portion of a file, starting from seekPosition. Return the number of bytes actually written, and as a side effect, increment the current position within the file.</p>
<p>Implemented using the more primitive WriteAt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">into</td><td>the buffer containing the data to be written to disk </td></tr>
    <tr><td class="paramname">numBytes</td><td>the number of bytes to transfer </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_a2de8d2d805fef3510bfd2fdf46f683fa_cgraph.png" border="0" usemap="#classOpenFile_a2de8d2d805fef3510bfd2fdf46f683fa_cgraph" alt=""/></div>
<map name="classOpenFile_a2de8d2d805fef3510bfd2fdf46f683fa_cgraph" id="classOpenFile_a2de8d2d805fef3510bfd2fdf46f683fa_cgraph">
<area shape="rect" title=" " alt="" coords="5,899,119,926"/>
<area shape="rect" href="classOpenFile.html#ad4b5d26a169a7c22e6f27c1693adb1aa" title=" " alt="" coords="167,899,293,926"/>
<area shape="rect" href="classFileHeader.html#adacbe1c1af441d0b1e978c65a05d60f2" title="Convert a byte offset into the file to the disk sector containing the byte." alt="" coords="787,620,957,647"/>
<area shape="rect" href="classFileHeader.html#a8dcba7e634e37555f08c39dd9c63597a" title=" " alt="" coords="341,1000,537,1027"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="1442,630,1510,656"/>
<area shape="rect" href="classBitMap.html#ad6d12eefec9b64e903d072c83f7c29a2" title="Print contents of bitmap." alt="" coords="372,798,507,824"/>
<area shape="rect" href="classOpenFile.html#a0af8cd52ec71a2ad407039cebee2ef3d" title=" " alt="" coords="599,772,725,799"/>
<area shape="rect" href="classFileHeader.html#a676d88bbc37d3d108625be75d637a8e6" title="in bytes" alt="" coords="796,848,948,875"/>
<area shape="rect" href="classFileSystem.html#a798400dbcaaef6d6dde5e63fcc500a60" title="Get the free map table." alt="" coords="345,1051,534,1078"/>
<area shape="rect" href="classFileHeader.html#aeff760f3edaad0bfb6862a4e93b005c6" title=" " alt="" coords="351,1102,528,1128"/>
<area shape="rect" href="classFileHeader.html#afa31f3a959a74b0134a544858021457f" title=" " alt="" coords="364,950,515,976"/>
<area shape="rect" href="classBitMap.html#a19052d41ba5a654c7e478582dffba20d" title="fetch contents from disk" alt="" coords="373,1152,505,1179"/>
<area shape="rect" href="classFileHeader.html#ab896cc7dd7274e3f8072da2c7d9beee8" title="Write modifications to file header back to disk." alt="" coords="585,532,739,559"/>
<area shape="rect" href="classDriverDisk.html#a74426214379e50aa0d8a7b19084887ee" title="write a disk sector, returning only once the data is actually written." alt="" coords="793,528,951,555"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="1611,630,1727,656"/>
<area shape="rect" href="classDriverDisk.html#a2e93ba9a36bba4e8b3eeb43f877b2395" title="Read a disk sector, returning only once the data is actually read." alt="" coords="794,671,950,698"/>
<area shape="rect" href="classLock.html#ad4c4699fd1ab73f3927b10edc01c54db" title="Acquire a lock (atomic operation)" alt="" coords="1021,579,1124,606"/>
<area shape="rect" href="classSemaphore.html#a4fee22da0205e3c704b08beaa17e0e7a" title=" " alt="" coords="1020,478,1125,504"/>
<area shape="rect" href="classDisk.html#a8b51a82d4f2fd009335d0c591ae11042" title=" " alt="" coords="1005,630,1140,656"/>
<area shape="rect" href="classLock.html#a5ca005b84272e56c2bf447056ee9217c" title="Release a lock (atomic operation)" alt="" coords="1020,528,1125,555"/>
<area shape="rect" href="classDisk.html#a2337b1c68eb5f6a15502d8327d15248b" title=" " alt="" coords="1199,326,1353,352"/>
<area shape="rect" href="disk_8cpp.html#a03b355bcf0d41c1fdeb1c69fb067fc1a" title="dummy procedure because we can&#39;t take a pointer of a member function" alt="" coords="1237,478,1315,504"/>
<area shape="rect" href="classThread.html#ade294fd013100034bebd745d8ffb1f94" title="Returns the process owner." alt="" coords="1189,427,1363,454"/>
<area shape="rect" href="classProcessStat.html#a8114ba343d15b3a29be80eff5a094f79" title=" " alt="" coords="1188,681,1364,722"/>
<area shape="rect" href="sysdep_8cpp.html#a5e24d90699a8caf5d5ecf0ea461050b4" title="Change the location within an open file. Abort on error." alt="" coords="1247,579,1305,606"/>
<area shape="rect" href="disk_8cpp.html#a3f97a10c00c77d969f5ec6423403b6cc" title="Dump the data in a disk read/write request, for debugging only." alt="" coords="1233,528,1319,555"/>
<area shape="rect" href="sysdep_8cpp.html#a6140dcc97ab52a9406e6d3f5749fa43c" title="Read characters from an open file. Abort if read fails." alt="" coords="1250,747,1302,774"/>
<area shape="rect" href="classInterrupt.html#ac403a14a9e41fa2b6dbd5c6056b87389" title="Print interrupt state." alt="" coords="1211,224,1341,251"/>
<area shape="rect" href="classDisk.html#aa87426eeedc8cf390fa4b293ecd34b42" title=" " alt="" coords="1215,275,1337,302"/>
<area shape="rect" href="classStatistics.html#a77aec82b7adb8d795c850db96c82f5d8" title=" " alt="" coords="1588,326,1751,352"/>
<area shape="rect" href="classDisk.html#abf14ace693df2b08e1187045305e81a5" title="time to get to the new track" alt="" coords="1418,452,1534,479"/>
<area shape="rect" href="classDisk.html#abecdf19e160925b1bc9b4542c90de2ac" title=" " alt="" coords="1412,351,1540,378"/>
<area shape="rect" href="classList.html#a7c94145ed3ab4115dd2a87e25eeadc91" title=" " alt="" coords="1415,250,1537,276"/>
<area shape="rect" href="classBitMap.html#a031ad924663dcae2359403b3a76a9dd8" title="Is the &quot;nth&quot; bit set?" alt="" coords="614,1051,710,1078"/>
<area shape="rect" href="classBitMap.html#af73514736aff03229d58557d0423daca" title="Return the # of a clear bit, and as a side effect, set the bit. If no bits are clear,..." alt="" coords="598,1102,726,1128"/>
<area shape="rect" href="classBitMap.html#ae3eb006c755440ae830bf220457dbbc7" title="De&#45;allocate bitmap." alt="" coords="822,1051,922,1078"/>
<area shape="rect" href="classBitMap.html#af5a945ba7b79e92a5a1bb0db24ecf26a" title="Clear the &quot;nth&quot; bit." alt="" coords="824,1102,920,1128"/>
<area shape="rect" href="classDisk.html#aec33797c6480a8c919fc7d340c316abe" title=" " alt="" coords="1005,351,1140,378"/>
<area shape="rect" href="classProcessStat.html#ad8f0597460874ad1dcf515fa3b58b9c8" title=" " alt="" coords="1188,57,1364,98"/>
<area shape="rect" href="sysdep_8cpp.html#a423758a22b76ab4ab8dce5afd92b83cd" title="Write characters to an open file. Abort if write fails." alt="" coords="1239,123,1313,150"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_a2de8d2d805fef3510bfd2fdf46f683fa_icgraph.png" border="0" usemap="#classOpenFile_a2de8d2d805fef3510bfd2fdf46f683fa_icgraph" alt=""/></div>
<map name="classOpenFile_a2de8d2d805fef3510bfd2fdf46f683fa_icgraph" id="classOpenFile_a2de8d2d805fef3510bfd2fdf46f683fa_icgraph">
<area shape="rect" title=" " alt="" coords="1519,81,1632,108"/>
<area shape="rect" href="main_8cpp.html#a8e00c17571a60a78f108e1b56b300e1f" title=" " alt="" coords="1383,31,1435,57"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,132,1471,159"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1188,5,1239,32"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,259,1299,285"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,309,748,336"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,196,917,223"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,259,1080,285"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,309,917,336"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,309,537,336"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,309,387,336"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,309,192,336"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,69,727,96"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,171,724,197"/>
</map>
</div>

</div>
</div>
<a id="ad4b5d26a169a7c22e6f27c1693adb1aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4b5d26a169a7c22e6f27c1693adb1aa">&#9670;&nbsp;</a></span>WriteAt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OpenFile::WriteAt </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a portion of a file, starting at "position". Return the number of bytes actually written, but has no side effects (except that Write modifies the file, of course).</p>
<p>There is no guarantee the request starts or ends on an even disk sector boundary; however the disk only knows how to write a whole disk sector at a time.</p>
<p>We must first read in any sectors that will be partially written, so that we don't overwrite the unmodified portion. We then copy in the data that will be modified, and write back all the full or partial sectors that are part of the request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">from</td><td>the buffer containing the data to be written to disk </td></tr>
    <tr><td class="paramname">numBytes</td><td>the number of bytes to transfer </td></tr>
    <tr><td class="paramname">position</td><td>the offset within the file of the first byte to be written </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_ad4b5d26a169a7c22e6f27c1693adb1aa_cgraph.png" border="0" usemap="#classOpenFile_ad4b5d26a169a7c22e6f27c1693adb1aa_cgraph" alt=""/></div>
<map name="classOpenFile_ad4b5d26a169a7c22e6f27c1693adb1aa_cgraph" id="classOpenFile_ad4b5d26a169a7c22e6f27c1693adb1aa_cgraph">
<area shape="rect" title=" " alt="" coords="5,899,132,926"/>
<area shape="rect" href="classFileHeader.html#adacbe1c1af441d0b1e978c65a05d60f2" title="Convert a byte offset into the file to the disk sector containing the byte." alt="" coords="625,620,796,647"/>
<area shape="rect" href="classFileHeader.html#a8dcba7e634e37555f08c39dd9c63597a" title=" " alt="" coords="180,1000,376,1027"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="1281,630,1349,656"/>
<area shape="rect" href="classBitMap.html#ad6d12eefec9b64e903d072c83f7c29a2" title="Print contents of bitmap." alt="" coords="211,798,345,824"/>
<area shape="rect" href="classOpenFile.html#a0af8cd52ec71a2ad407039cebee2ef3d" title=" " alt="" coords="438,772,563,799"/>
<area shape="rect" href="classFileHeader.html#a676d88bbc37d3d108625be75d637a8e6" title="in bytes" alt="" coords="635,848,787,875"/>
<area shape="rect" href="classFileSystem.html#a798400dbcaaef6d6dde5e63fcc500a60" title="Get the free map table." alt="" coords="183,1051,373,1078"/>
<area shape="rect" href="classFileHeader.html#aeff760f3edaad0bfb6862a4e93b005c6" title=" " alt="" coords="189,1102,367,1128"/>
<area shape="rect" href="classFileHeader.html#afa31f3a959a74b0134a544858021457f" title=" " alt="" coords="203,950,353,976"/>
<area shape="rect" href="classBitMap.html#a19052d41ba5a654c7e478582dffba20d" title="fetch contents from disk" alt="" coords="212,1152,344,1179"/>
<area shape="rect" href="classFileHeader.html#ab896cc7dd7274e3f8072da2c7d9beee8" title="Write modifications to file header back to disk." alt="" coords="424,532,577,559"/>
<area shape="rect" href="classDriverDisk.html#a74426214379e50aa0d8a7b19084887ee" title="write a disk sector, returning only once the data is actually written." alt="" coords="632,528,789,555"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="1450,630,1566,656"/>
<area shape="rect" href="classDriverDisk.html#a2e93ba9a36bba4e8b3eeb43f877b2395" title="Read a disk sector, returning only once the data is actually read." alt="" coords="633,671,789,698"/>
<area shape="rect" href="classLock.html#ad4c4699fd1ab73f3927b10edc01c54db" title="Acquire a lock (atomic operation)" alt="" coords="860,579,963,606"/>
<area shape="rect" href="classSemaphore.html#a4fee22da0205e3c704b08beaa17e0e7a" title=" " alt="" coords="859,478,964,504"/>
<area shape="rect" href="classDisk.html#a8b51a82d4f2fd009335d0c591ae11042" title=" " alt="" coords="844,630,979,656"/>
<area shape="rect" href="classLock.html#a5ca005b84272e56c2bf447056ee9217c" title="Release a lock (atomic operation)" alt="" coords="859,528,964,555"/>
<area shape="rect" href="classDisk.html#a2337b1c68eb5f6a15502d8327d15248b" title=" " alt="" coords="1037,326,1192,352"/>
<area shape="rect" href="disk_8cpp.html#a03b355bcf0d41c1fdeb1c69fb067fc1a" title="dummy procedure because we can&#39;t take a pointer of a member function" alt="" coords="1075,478,1154,504"/>
<area shape="rect" href="classThread.html#ade294fd013100034bebd745d8ffb1f94" title="Returns the process owner." alt="" coords="1027,427,1202,454"/>
<area shape="rect" href="classProcessStat.html#a8114ba343d15b3a29be80eff5a094f79" title=" " alt="" coords="1027,681,1203,722"/>
<area shape="rect" href="sysdep_8cpp.html#a5e24d90699a8caf5d5ecf0ea461050b4" title="Change the location within an open file. Abort on error." alt="" coords="1086,579,1143,606"/>
<area shape="rect" href="disk_8cpp.html#a3f97a10c00c77d969f5ec6423403b6cc" title="Dump the data in a disk read/write request, for debugging only." alt="" coords="1071,528,1158,555"/>
<area shape="rect" href="sysdep_8cpp.html#a6140dcc97ab52a9406e6d3f5749fa43c" title="Read characters from an open file. Abort if read fails." alt="" coords="1089,747,1141,774"/>
<area shape="rect" href="classInterrupt.html#ac403a14a9e41fa2b6dbd5c6056b87389" title="Print interrupt state." alt="" coords="1049,224,1180,251"/>
<area shape="rect" href="classDisk.html#aa87426eeedc8cf390fa4b293ecd34b42" title=" " alt="" coords="1053,275,1176,302"/>
<area shape="rect" href="classStatistics.html#a77aec82b7adb8d795c850db96c82f5d8" title=" " alt="" coords="1427,326,1589,352"/>
<area shape="rect" href="classDisk.html#abf14ace693df2b08e1187045305e81a5" title="time to get to the new track" alt="" coords="1257,452,1373,479"/>
<area shape="rect" href="classDisk.html#abecdf19e160925b1bc9b4542c90de2ac" title=" " alt="" coords="1251,351,1379,378"/>
<area shape="rect" href="classList.html#a7c94145ed3ab4115dd2a87e25eeadc91" title=" " alt="" coords="1254,250,1375,276"/>
<area shape="rect" href="classBitMap.html#a031ad924663dcae2359403b3a76a9dd8" title="Is the &quot;nth&quot; bit set?" alt="" coords="453,1051,549,1078"/>
<area shape="rect" href="classBitMap.html#af73514736aff03229d58557d0423daca" title="Return the # of a clear bit, and as a side effect, set the bit. If no bits are clear,..." alt="" coords="437,1102,565,1128"/>
<area shape="rect" href="classBitMap.html#ae3eb006c755440ae830bf220457dbbc7" title="De&#45;allocate bitmap." alt="" coords="661,1051,761,1078"/>
<area shape="rect" href="classBitMap.html#af5a945ba7b79e92a5a1bb0db24ecf26a" title="Clear the &quot;nth&quot; bit." alt="" coords="663,1102,759,1128"/>
<area shape="rect" href="classDisk.html#aec33797c6480a8c919fc7d340c316abe" title=" " alt="" coords="844,351,979,378"/>
<area shape="rect" href="classProcessStat.html#ad8f0597460874ad1dcf515fa3b58b9c8" title=" " alt="" coords="1027,57,1203,98"/>
<area shape="rect" href="sysdep_8cpp.html#a423758a22b76ab4ab8dce5afd92b83cd" title="Write characters to an open file. Abort if write fails." alt="" coords="1077,123,1152,150"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenFile_ad4b5d26a169a7c22e6f27c1693adb1aa_icgraph.png" border="0" usemap="#classOpenFile_ad4b5d26a169a7c22e6f27c1693adb1aa_icgraph" alt=""/></div>
<map name="classOpenFile_ad4b5d26a169a7c22e6f27c1693adb1aa_icgraph" id="classOpenFile_ad4b5d26a169a7c22e6f27c1693adb1aa_icgraph">
<area shape="rect" title=" " alt="" coords="2127,199,2253,225"/>
<area shape="rect" href="classOpenFile.html#a2de8d2d805fef3510bfd2fdf46f683fa" title=" " alt="" coords="1750,5,1863,32"/>
<area shape="rect" href="classBitMap.html#a19052d41ba5a654c7e478582dffba20d" title="fetch contents from disk" alt="" coords="1941,199,2073,225"/>
<area shape="rect" href="classDirectory.html#abf5550df42587bbc604c71441a4d12fc" title="Write modifications to directory contents back to disk." alt="" coords="1936,325,2079,352"/>
<area shape="rect" href="main_8cpp.html#a8e00c17571a60a78f108e1b56b300e1f" title=" " alt="" coords="1572,72,1624,99"/>
<area shape="rect" href="machine_8hpp.html#af31c84fcf9811fc72614abc2be3b5a44" title="Entry point into Nachos to handle user system calls and exceptions." alt="" coords="1347,224,1471,251"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1383,148,1434,175"/>
<area shape="rect" href="classMachine.html#a0d6f63790c0568437b100171f61fd77f" title="Do a pending delayed load (modifying a reg)" alt="" coords="1128,123,1299,149"/>
<area shape="rect" href="classMachine.html#ad70a015685c6e4bf705e4939551774aa" title=" " alt="" coords="585,123,748,149"/>
<area shape="rect" href="classMMU.html#a28a50bd03688bc05aa15f93e4abf61a7" title=" " alt="" coords="797,199,917,225"/>
<area shape="rect" href="classMMU.html#aa2ddea5dcd1648aba21ac1a75c79dc25" title=" " alt="" coords="965,72,1080,99"/>
<area shape="rect" href="classMMU.html#a60227cf48e6778a4c66d8a13fd2f1539" title=" " alt="" coords="796,47,917,73"/>
<area shape="rect" href="classMachine.html#a83444e06eb7a7c163a1b9c87a7062d43" title="Destructor. De&#45;allocate the data structures." alt="" coords="435,123,537,149"/>
<area shape="rect" href="thread_8cpp.html#a014c1a99794f74ed079b0dde1f7efe8d" title=" " alt="" coords="240,123,387,149"/>
<area shape="rect" href="classThread.html#ad6d5edb1a6d2a9effbb442883fc5b866" title="Sets&#45;up the thread simulator context : fills it with the appropriate." alt="" coords="5,123,192,149"/>
<area shape="rect" href="exception_8cpp.html#a2f3d05f12e27c15623b3d6a0e3813677" title=" " alt="" coords="607,237,727,264"/>
<area shape="rect" href="exception_8cpp.html#a467d8e83c5db03566d20ee929c7d7c1f" title=" " alt="" coords="609,325,724,352"/>
<area shape="rect" href="classFileSystem.html#ac789d58815881d7f193d86085b0f54aa" title="Create a file (UNIX creat)" alt="" coords="1739,275,1874,301"/>
<area shape="rect" href="classFileSystem.html#a12d63294322b37e934edd03ff614b95a" title=" " alt="" coords="1725,224,1888,251"/>
<area shape="rect" href="classFileSystem.html#a9b4f11a12aed939e691edd6d591a8fcf" title="Create a new directory." alt="" coords="1534,173,1662,200"/>
<area shape="rect" href="classFileSystem.html#a52e69a068c68c6c84f02c80fd4c5389e" title="Delete a file (UNIX unlink)" alt="" coords="1735,325,1878,352"/>
<area shape="rect" href="classFileSystem.html#ae5cbf7822080d1c9bb606b5d74dd4ee5" title="Delete a directory." alt="" coords="1533,224,1663,251"/>
<area shape="rect" href="classOpenFileTableEntry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="1731,107,1883,149"/>
<area shape="rect" href="classOpenFileTable.html#a004541913ef8deb24d571c20d2020175" title="remove the file from the file system" alt="" coords="1519,325,1677,352"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a63b6413c733e0fa22a339ecdf50c5a3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63b6413c733e0fa22a339ecdf50c5a3a">&#9670;&nbsp;</a></span>fSector</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int OpenFile::fSector</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The file's first sector. </p>

</div>
</div>
<a id="a4aaa8d3ea50b339ebd9e9c4d9cc1ff9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aaa8d3ea50b339ebd9e9c4d9cc1ff9e">&#9670;&nbsp;</a></span>hdr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFileHeader.html">FileHeader</a>* OpenFile::hdr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Header for this file. </p>

</div>
</div>
<a id="a8df073bef217507f97f8fa923cdf5c57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8df073bef217507f97f8fa923cdf5c57">&#9670;&nbsp;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* OpenFile::name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the file's name. </p>

</div>
</div>
<a id="ae73fc3708c50308938c44a9cc65ff8e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae73fc3708c50308938c44a9cc65ff8e2">&#9670;&nbsp;</a></span>seekPosition</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int OpenFile::seekPosition</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current position within the file. </p>

</div>
</div>
<a id="a7ee14d7e9d6ddb91f11e2de8d028c053"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ee14d7e9d6ddb91f11e2de8d028c053">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="system_8hpp.html#a842c5e2e69277690b064bf363c017980">ObjectType</a> OpenFile::type</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>filesys/<a class="el" href="openfile_8hpp_source.html">openfile.hpp</a></li>
<li>filesys/<a class="el" href="openfile_8cpp.html">openfile.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classOpenFile.html">OpenFile</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
