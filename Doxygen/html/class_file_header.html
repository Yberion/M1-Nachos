<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nachos: FileHeader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nachos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_file_header.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_file_header-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FileHeader Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines a file header in the Nachos file system.  
 <a href="class_file_header.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="filehdr_8hpp_source.html">filehdr.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2fb90f63470e10c847393e124763fd1a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_header.html#a2fb90f63470e10c847393e124763fd1a">Allocate</a> (<a class="el" href="class_bit_map.html">BitMap</a> *bitMap, int fileSize)</td></tr>
<tr class="separator:a2fb90f63470e10c847393e124763fd1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa31f3a959a74b0134a544858021457f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_header.html#afa31f3a959a74b0134a544858021457f">reAllocate</a> (<a class="el" href="class_bit_map.html">BitMap</a> *, int, int)</td></tr>
<tr class="separator:afa31f3a959a74b0134a544858021457f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d8a66db0af2460ccb27edd8d2331179"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_header.html#a0d8a66db0af2460ccb27edd8d2331179">Deallocate</a> (<a class="el" href="class_bit_map.html">BitMap</a> *bitMap)</td></tr>
<tr class="memdesc:a0d8a66db0af2460ccb27edd8d2331179"><td class="mdescLeft">&#160;</td><td class="mdescRight">De-allocate this file's.  <a href="class_file_header.html#a0d8a66db0af2460ccb27edd8d2331179">More...</a><br /></td></tr>
<tr class="separator:a0d8a66db0af2460ccb27edd8d2331179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa85564cee98fc9592df08cc5e4a2efc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_header.html#aa85564cee98fc9592df08cc5e4a2efc6">FetchFrom</a> (int sectorNumber)</td></tr>
<tr class="memdesc:aa85564cee98fc9592df08cc5e4a2efc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize file header from disk.  <a href="class_file_header.html#aa85564cee98fc9592df08cc5e4a2efc6">More...</a><br /></td></tr>
<tr class="separator:aa85564cee98fc9592df08cc5e4a2efc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab896cc7dd7274e3f8072da2c7d9beee8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_header.html#ab896cc7dd7274e3f8072da2c7d9beee8">WriteBack</a> (int sectorNumber)</td></tr>
<tr class="memdesc:ab896cc7dd7274e3f8072da2c7d9beee8"><td class="mdescLeft">&#160;</td><td class="mdescRight">back to disk  <a href="class_file_header.html#ab896cc7dd7274e3f8072da2c7d9beee8">More...</a><br /></td></tr>
<tr class="separator:ab896cc7dd7274e3f8072da2c7d9beee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adacbe1c1af441d0b1e978c65a05d60f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_header.html#adacbe1c1af441d0b1e978c65a05d60f2">ByteToSector</a> (int offset)</td></tr>
<tr class="separator:adacbe1c1af441d0b1e978c65a05d60f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676d88bbc37d3d108625be75d637a8e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_header.html#a676d88bbc37d3d108625be75d637a8e6">FileLength</a> ()</td></tr>
<tr class="memdesc:a676d88bbc37d3d108625be75d637a8e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">in bytes  <a href="class_file_header.html#a676d88bbc37d3d108625be75d637a8e6">More...</a><br /></td></tr>
<tr class="separator:a676d88bbc37d3d108625be75d637a8e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dcba7e634e37555f08c39dd9c63597a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_header.html#a8dcba7e634e37555f08c39dd9c63597a">ChangeFileLength</a> (int)</td></tr>
<tr class="separator:a8dcba7e634e37555f08c39dd9c63597a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff760f3edaad0bfb6862a4e93b005c6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_header.html#aeff760f3edaad0bfb6862a4e93b005c6">MaxFileLength</a> ()</td></tr>
<tr class="separator:aeff760f3edaad0bfb6862a4e93b005c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b661cda2c4d51ee06cc29e7ea0a0c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_header.html#a57b661cda2c4d51ee06cc29e7ea0a0c0">Print</a> ()</td></tr>
<tr class="memdesc:a57b661cda2c4d51ee06cc29e7ea0a0c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the contents of the file.  <a href="class_file_header.html#a57b661cda2c4d51ee06cc29e7ea0a0c0">More...</a><br /></td></tr>
<tr class="separator:a57b661cda2c4d51ee06cc29e7ea0a0c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae43a97c41cef7b52a01c5d1da28ed3fa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_header.html#ae43a97c41cef7b52a01c5d1da28ed3fa">IsDir</a> ()</td></tr>
<tr class="separator:ae43a97c41cef7b52a01c5d1da28ed3fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa154a9b7f22b2c170b9545c627251d92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_header.html#aa154a9b7f22b2c170b9545c627251d92">SetFile</a> ()</td></tr>
<tr class="memdesc:aa154a9b7f22b2c170b9545c627251d92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark this header as a file header.  <a href="class_file_header.html#aa154a9b7f22b2c170b9545c627251d92">More...</a><br /></td></tr>
<tr class="separator:aa154a9b7f22b2c170b9545c627251d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1099a20b5ca3009ba75ba05492528682"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_header.html#a1099a20b5ca3009ba75ba05492528682">SetDir</a> ()</td></tr>
<tr class="memdesc:a1099a20b5ca3009ba75ba05492528682"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark this header as a directory header.  <a href="class_file_header.html#a1099a20b5ca3009ba75ba05492528682">More...</a><br /></td></tr>
<tr class="separator:a1099a20b5ca3009ba75ba05492528682"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines a file header in the Nachos file system. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2fb90f63470e10c847393e124763fd1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fb90f63470e10c847393e124763fd1a">&#9670;&nbsp;</a></span>Allocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FileHeader::Allocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bit_map.html">BitMap</a> *&#160;</td>
          <td class="paramname"><em>freeMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fileSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a file header, <br  />
 including allocating space on disk for the file data</p>
<p>Initialize a file header, including allocating space on disk for the file data. Allocate data and header blocks for the file out of the map of free disk blocks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freeMap</td><td>is the bitmap of free disk sectors </td></tr>
    <tr><td class="paramname">fileSize</td><td>is the required number of bytes in the file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if there are not enough free blocks to accomodate the new file. </dd></dl>

</div>
</div>
<a id="adacbe1c1af441d0b1e978c65a05d60f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adacbe1c1af441d0b1e978c65a05d60f2">&#9670;&nbsp;</a></span>ByteToSector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FileHeader::ByteToSector </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert a byte offset into the file to the disk sector containing the byte</p>
<p>This is essentially a translation from a virtual address (the offset in the file) to a physical address (the sector where the data at the offset is stored).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>is the location within the file of the byte in question </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>which disk sector is storing a particular byte within the file. </dd></dl>

</div>
</div>
<a id="a8dcba7e634e37555f08c39dd9c63597a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dcba7e634e37555f08c39dd9c63597a">&#9670;&nbsp;</a></span>ChangeFileLength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileHeader::ChangeFileLength </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newsize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>sets the length of the file in bytes</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newsize</td><td>the new size of the file, in bytes. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_file_header_a8dcba7e634e37555f08c39dd9c63597a_icgraph.png" border="0" usemap="#class_file_header_a8dcba7e634e37555f08c39dd9c63597a_icgraph" alt=""/></div>
<map name="class_file_header_a8dcba7e634e37555f08c39dd9c63597a_icgraph" id="class_file_header_a8dcba7e634e37555f08c39dd9c63597a_icgraph">
<area shape="rect" title=" " alt="" coords="571,56,767,83"/>
<area shape="rect" href="class_open_file.html#ad4b5d26a169a7c22e6f27c1693adb1aa" title=" " alt="" coords="396,56,523,83"/>
<area shape="rect" href="class_open_file.html#a2de8d2d805fef3510bfd2fdf46f683fa" title=" " alt="" coords="220,5,333,32"/>
<area shape="rect" href="class_bit_map.html#a19052d41ba5a654c7e478582dffba20d" title=" " alt="" coords="211,56,343,83"/>
<area shape="rect" href="class_directory.html#abf5550df42587bbc604c71441a4d12fc" title=" " alt="" coords="205,107,348,133"/>
<area shape="rect" href="class_open_file_table_entry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="5,49,157,90"/>
</map>
</div>

</div>
</div>
<a id="a0d8a66db0af2460ccb27edd8d2331179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d8a66db0af2460ccb27edd8d2331179">&#9670;&nbsp;</a></span>Deallocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileHeader::Deallocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bit_map.html">BitMap</a> *&#160;</td>
          <td class="paramname"><em>freeMap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>De-allocate this file's. </p>
<p>De-allocate all the space allocated for data blocks for this file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freeMap</td><td>is the bit map of free disk sectors </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_file_header_a0d8a66db0af2460ccb27edd8d2331179_cgraph.png" border="0" usemap="#class_file_header_a0d8a66db0af2460ccb27edd8d2331179_cgraph" alt=""/></div>
<map name="class_file_header_a0d8a66db0af2460ccb27edd8d2331179_cgraph" id="class_file_header_a0d8a66db0af2460ccb27edd8d2331179_cgraph">
<area shape="rect" title="De&#45;allocate this file&#39;s." alt="" coords="5,31,159,57"/>
<area shape="rect" href="class_bit_map.html#aee4445b4d2079c96f5c87896717569d2" title=" " alt="" coords="207,5,308,32"/>
<area shape="rect" href="class_bit_map.html#af5a945ba7b79e92a5a1bb0db24ecf26a" title=" " alt="" coords="209,56,305,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_file_header_a0d8a66db0af2460ccb27edd8d2331179_icgraph.png" border="0" usemap="#class_file_header_a0d8a66db0af2460ccb27edd8d2331179_icgraph" alt=""/></div>
<map name="class_file_header_a0d8a66db0af2460ccb27edd8d2331179_icgraph" id="class_file_header_a0d8a66db0af2460ccb27edd8d2331179_icgraph">
<area shape="rect" title="De&#45;allocate this file&#39;s." alt="" coords="205,13,359,39"/>
<area shape="rect" href="class_open_file_table_entry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="5,5,157,47"/>
</map>
</div>

</div>
</div>
<a id="aa85564cee98fc9592df08cc5e4a2efc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa85564cee98fc9592df08cc5e4a2efc6">&#9670;&nbsp;</a></span>FetchFrom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileHeader::FetchFrom </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize file header from disk. </p>
<p>Fetch contents of file header from disk.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sector</td><td>is the disk sector containing the file header </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_file_header_aa85564cee98fc9592df08cc5e4a2efc6_cgraph.png" border="0" usemap="#class_file_header_aa85564cee98fc9592df08cc5e4a2efc6_cgraph" alt=""/></div>
<map name="class_file_header_aa85564cee98fc9592df08cc5e4a2efc6_cgraph" id="class_file_header_aa85564cee98fc9592df08cc5e4a2efc6_cgraph">
<area shape="rect" title="Initialize file header from disk." alt="" coords="5,107,160,133"/>
<area shape="rect" href="class_driver_disk.html#a2e93ba9a36bba4e8b3eeb43f877b2395" title=" " alt="" coords="208,107,364,133"/>
<area shape="rect" href="class_lock.html#ad4c4699fd1ab73f3927b10edc01c54db" title="Acquire a lock (atomic operation)" alt="" coords="428,5,531,32"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="638,56,706,83"/>
<area shape="rect" href="class_semaphore.html#a4fee22da0205e3c704b08beaa17e0e7a" title=" " alt="" coords="427,107,532,133"/>
<area shape="rect" href="class_disk.html#a8b51a82d4f2fd009335d0c591ae11042" title=" " alt="" coords="412,157,547,184"/>
<area shape="rect" href="class_lock.html#a5ca005b84272e56c2bf447056ee9217c" title="Release a lock (atomic operation)" alt="" coords="427,208,532,235"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="797,81,913,108"/>
<area shape="rect" href="class_disk.html#a2337b1c68eb5f6a15502d8327d15248b" title=" " alt="" coords="595,157,749,184"/>
<area shape="rect" href="sysdep_8cpp.html#a5e24d90699a8caf5d5ecf0ea461050b4" title="Change the location within an open file. Abort on error." alt="" coords="643,208,701,235"/>
<area shape="rect" href="sysdep_8cpp.html#a6140dcc97ab52a9406e6d3f5749fa43c" title="Read characters from an open file. Abort if read fails." alt="" coords="646,259,698,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_file_header_aa85564cee98fc9592df08cc5e4a2efc6_icgraph.png" border="0" usemap="#class_file_header_aa85564cee98fc9592df08cc5e4a2efc6_icgraph" alt=""/></div>
<map name="class_file_header_aa85564cee98fc9592df08cc5e4a2efc6_icgraph" id="class_file_header_aa85564cee98fc9592df08cc5e4a2efc6_icgraph">
<area shape="rect" title="Initialize file header from disk." alt="" coords="188,56,343,83"/>
<area shape="rect" href="class_open_file.html#a89136ac6b54013a413398f9496d39963" title=" " alt="" coords="5,5,140,32"/>
<area shape="rect" href="class_file_system.html#aebaf06661b1879a62afefa5abe99f21e" title="List all the files and their contents." alt="" coords="11,56,134,83"/>
<area shape="rect" href="class_directory.html#a40c728221c5557e4fc181c4091c6fcff" title=" " alt="" coords="18,107,127,133"/>
</map>
</div>

</div>
</div>
<a id="a676d88bbc37d3d108625be75d637a8e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a676d88bbc37d3d108625be75d637a8e6">&#9670;&nbsp;</a></span>FileLength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FileHeader::FileLength </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>in bytes </p>
<p>Return the length of the file <br  />
</p>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes in the file. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_file_header_a676d88bbc37d3d108625be75d637a8e6_icgraph.png" border="0" usemap="#class_file_header_a676d88bbc37d3d108625be75d637a8e6_icgraph" alt=""/></div>
<map name="class_file_header_a676d88bbc37d3d108625be75d637a8e6_icgraph" id="class_file_header_a676d88bbc37d3d108625be75d637a8e6_icgraph">
<area shape="rect" title="in bytes" alt="" coords="967,384,1119,411"/>
<area shape="rect" href="class_open_file.html#a5d5618da2388829f294c3f33017fadac" title="Return the number of bytes in the file." alt="" coords="795,333,917,360"/>
<area shape="rect" href="class_open_file.html#a0af8cd52ec71a2ad407039cebee2ef3d" title=" " alt="" coords="793,384,919,411"/>
<area shape="rect" href="class_open_file.html#ad4b5d26a169a7c22e6f27c1693adb1aa" title=" " alt="" coords="412,625,539,652"/>
<area shape="rect" href="class_addr_space.html#acd3d2a68587b04ed5740e87895613821" title=" " alt="" coords="587,333,745,360"/>
<area shape="rect" href="class_bit_map.html#ad6d12eefec9b64e903d072c83f7c29a2" title=" " alt="" coords="599,511,733,537"/>
<area shape="rect" href="class_directory.html#a36ed455b21bbd9a66ffe8ec689ff7c73" title=" " alt="" coords="593,384,739,411"/>
<area shape="rect" href="class_open_file.html#af87bf2b0b15fa3501dada45a1a284bf4" title=" " alt="" coords="610,283,722,309"/>
<area shape="rect" href="class_file_system.html#aaf76918c6f0d24bc72aaa84625adfddf" title="List all the files in the file system." alt="" coords="226,435,343,461"/>
<area shape="rect" href="class_open_file_table_entry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="5,579,157,621"/>
<area shape="rect" href="class_open_file.html#a2de8d2d805fef3510bfd2fdf46f683fa" title=" " alt="" coords="228,587,341,613"/>
<area shape="rect" href="class_bit_map.html#a19052d41ba5a654c7e478582dffba20d" title=" " alt="" coords="219,637,351,664"/>
<area shape="rect" href="class_directory.html#abf5550df42587bbc604c71441a4d12fc" title=" " alt="" coords="213,688,356,715"/>
<area shape="rect" href="filesys_8hpp.html#a562c4a58dde9f8b0a25dc482e23d9dc4" title=" " alt="" coords="444,183,507,209"/>
<area shape="rect" href="class_file_system.html#a606ea080a2a0fe5e3be3c3f5b8f4e7bc" title="Open a file (UNIX open)" alt="" coords="221,259,348,285"/>
<area shape="rect" href="class_open_file_table.html#ab0519dd960600e61b98d524281aaa882" title=" " alt="" coords="213,309,357,336"/>
<area shape="rect" href="class_directory.html#a2525a4455b80a1ee2648319ab257037c" title=" " alt="" coords="424,384,527,411"/>
<area shape="rect" href="class_file_system.html#ac789d58815881d7f193d86085b0f54aa" title="Create a file (UNIX creat)" alt="" coords="217,107,352,133"/>
<area shape="rect" href="class_file_system.html#a9b4f11a12aed939e691edd6d591a8fcf" title="Create a new directory." alt="" coords="221,157,349,184"/>
<area shape="rect" href="class_file_system.html#a52e69a068c68c6c84f02c80fd4c5389e" title="Delete a file (UNIX unlink)" alt="" coords="213,208,356,235"/>
<area shape="rect" href="class_open_file_table.html#a004541913ef8deb24d571c20d2020175" title="remove the file from the file system" alt="" coords="205,56,364,83"/>
<area shape="rect" href="class_file_system.html#ae5cbf7822080d1c9bb606b5d74dd4ee5" title="Delete a directory." alt="" coords="219,5,350,32"/>
<area shape="rect" href="main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="56,157,107,184"/>
</map>
</div>

</div>
</div>
<a id="ae43a97c41cef7b52a01c5d1da28ed3fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae43a97c41cef7b52a01c5d1da28ed3fa">&#9670;&nbsp;</a></span>IsDir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FileHeader::IsDir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>return true if the file header is marked as a directory.</p>
<p>if this header is a directory header then this function return true. </p><dl class="section return"><dt>Returns</dt><dd>true if this file is a directory </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_file_header_ae43a97c41cef7b52a01c5d1da28ed3fa_icgraph.png" border="0" usemap="#class_file_header_ae43a97c41cef7b52a01c5d1da28ed3fa_icgraph" alt=""/></div>
<map name="class_file_header_ae43a97c41cef7b52a01c5d1da28ed3fa_icgraph" id="class_file_header_ae43a97c41cef7b52a01c5d1da28ed3fa_icgraph">
<area shape="rect" title=" " alt="" coords="519,80,637,107"/>
<area shape="rect" href="class_open_file.html#aaa8600eb2b54645780d5a6208ad85762" title="return true if the file is a directory" alt="" coords="363,80,471,107"/>
<area shape="rect" href="class_directory.html#a2525a4455b80a1ee2648319ab257037c" title=" " alt="" coords="191,29,294,56"/>
<area shape="rect" href="class_file_system.html#a606ea080a2a0fe5e3be3c3f5b8f4e7bc" title="Open a file (UNIX open)" alt="" coords="179,80,306,107"/>
<area shape="rect" href="class_open_file_table.html#ab0519dd960600e61b98d524281aaa882" title=" " alt="" coords="171,131,315,157"/>
<area shape="rect" href="class_file_system.html#aaf76918c6f0d24bc72aaa84625adfddf" title="List all the files in the file system." alt="" coords="5,29,123,56"/>
</map>
</div>

</div>
</div>
<a id="aeff760f3edaad0bfb6862a4e93b005c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff760f3edaad0bfb6862a4e93b005c6">&#9670;&nbsp;</a></span>MaxFileLength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FileHeader::MaxFileLength </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the maximum length of the file without reallocating data blocks</p>
<dl class="section return"><dt>Returns</dt><dd>the maximum number of bytes we can put in the file without reallocating. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_file_header_aeff760f3edaad0bfb6862a4e93b005c6_icgraph.png" border="0" usemap="#class_file_header_aeff760f3edaad0bfb6862a4e93b005c6_icgraph" alt=""/></div>
<map name="class_file_header_aeff760f3edaad0bfb6862a4e93b005c6_icgraph" id="class_file_header_aeff760f3edaad0bfb6862a4e93b005c6_icgraph">
<area shape="rect" title=" " alt="" coords="571,56,748,83"/>
<area shape="rect" href="class_open_file.html#ad4b5d26a169a7c22e6f27c1693adb1aa" title=" " alt="" coords="396,56,523,83"/>
<area shape="rect" href="class_open_file.html#a2de8d2d805fef3510bfd2fdf46f683fa" title=" " alt="" coords="220,5,333,32"/>
<area shape="rect" href="class_bit_map.html#a19052d41ba5a654c7e478582dffba20d" title=" " alt="" coords="211,56,343,83"/>
<area shape="rect" href="class_directory.html#abf5550df42587bbc604c71441a4d12fc" title=" " alt="" coords="205,107,348,133"/>
<area shape="rect" href="class_open_file_table_entry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="5,49,157,90"/>
</map>
</div>

</div>
</div>
<a id="a57b661cda2c4d51ee06cc29e7ea0a0c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b661cda2c4d51ee06cc29e7ea0a0c0">&#9670;&nbsp;</a></span>Print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileHeader::Print </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the contents of the file. </p>
<p>Print the contents of the file header, and the contents of all the data blocks pointed to by the file header. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_file_header_a57b661cda2c4d51ee06cc29e7ea0a0c0_cgraph.png" border="0" usemap="#class_file_header_a57b661cda2c4d51ee06cc29e7ea0a0c0_cgraph" alt=""/></div>
<map name="class_file_header_a57b661cda2c4d51ee06cc29e7ea0a0c0_cgraph" id="class_file_header_a57b661cda2c4d51ee06cc29e7ea0a0c0_cgraph">
<area shape="rect" title="Print the contents of the file." alt="" coords="5,107,124,133"/>
<area shape="rect" href="class_driver_disk.html#a2e93ba9a36bba4e8b3eeb43f877b2395" title=" " alt="" coords="172,107,328,133"/>
<area shape="rect" href="class_lock.html#ad4c4699fd1ab73f3927b10edc01c54db" title="Acquire a lock (atomic operation)" alt="" coords="392,5,495,32"/>
<area shape="rect" href="utility_8cpp.html#af1c6878736cbd9e1b531898d8951d613" title=" " alt="" coords="602,56,670,83"/>
<area shape="rect" href="class_semaphore.html#a4fee22da0205e3c704b08beaa17e0e7a" title=" " alt="" coords="391,107,496,133"/>
<area shape="rect" href="class_disk.html#a8b51a82d4f2fd009335d0c591ae11042" title=" " alt="" coords="376,157,511,184"/>
<area shape="rect" href="class_lock.html#a5ca005b84272e56c2bf447056ee9217c" title="Release a lock (atomic operation)" alt="" coords="391,208,496,235"/>
<area shape="rect" href="utility_8cpp.html#a79c7d1acabdb48f6f6a80ec0abf7cf89" title=" " alt="" coords="761,81,877,108"/>
<area shape="rect" href="class_disk.html#a2337b1c68eb5f6a15502d8327d15248b" title=" " alt="" coords="559,157,713,184"/>
<area shape="rect" href="sysdep_8cpp.html#a5e24d90699a8caf5d5ecf0ea461050b4" title="Change the location within an open file. Abort on error." alt="" coords="607,208,665,235"/>
<area shape="rect" href="sysdep_8cpp.html#a6140dcc97ab52a9406e6d3f5749fa43c" title="Read characters from an open file. Abort if read fails." alt="" coords="610,259,662,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_file_header_a57b661cda2c4d51ee06cc29e7ea0a0c0_icgraph.png" border="0" usemap="#class_file_header_a57b661cda2c4d51ee06cc29e7ea0a0c0_icgraph" alt=""/></div>
<map name="class_file_header_a57b661cda2c4d51ee06cc29e7ea0a0c0_icgraph" id="class_file_header_a57b661cda2c4d51ee06cc29e7ea0a0c0_icgraph">
<area shape="rect" title="Print the contents of the file." alt="" coords="176,31,295,57"/>
<area shape="rect" href="class_file_system.html#aebaf06661b1879a62afefa5abe99f21e" title="List all the files and their contents." alt="" coords="5,5,128,32"/>
<area shape="rect" href="class_directory.html#a40c728221c5557e4fc181c4091c6fcff" title=" " alt="" coords="12,56,121,83"/>
</map>
</div>

</div>
</div>
<a id="afa31f3a959a74b0134a544858021457f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa31f3a959a74b0134a544858021457f">&#9670;&nbsp;</a></span>reAllocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FileHeader::reAllocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bit_map.html">BitMap</a> *&#160;</td>
          <td class="paramname"><em>freeMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>oldFileSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newFileSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>add new data blocks needed and new header blocks if necessary</p>
<p>add new data blocks when the file grows up and allocate new header blocks if necessary. Allocate data and header blocks for the file out of the map of free disk blocks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freeMap</td><td>is the bit map of free disk sectors </td></tr>
    <tr><td class="paramname">oldFileSize</td><td>is the actual number of bytes in the file </td></tr>
    <tr><td class="paramname">newFileSize</td><td>is the wanted number of bytes in the file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if there are not enough free blocks to accomodate the new file. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_file_header_afa31f3a959a74b0134a544858021457f_icgraph.png" border="0" usemap="#class_file_header_afa31f3a959a74b0134a544858021457f_icgraph" alt=""/></div>
<map name="class_file_header_afa31f3a959a74b0134a544858021457f_icgraph" id="class_file_header_afa31f3a959a74b0134a544858021457f_icgraph">
<area shape="rect" title=" " alt="" coords="571,56,721,83"/>
<area shape="rect" href="class_open_file.html#ad4b5d26a169a7c22e6f27c1693adb1aa" title=" " alt="" coords="396,56,523,83"/>
<area shape="rect" href="class_open_file.html#a2de8d2d805fef3510bfd2fdf46f683fa" title=" " alt="" coords="220,5,333,32"/>
<area shape="rect" href="class_bit_map.html#a19052d41ba5a654c7e478582dffba20d" title=" " alt="" coords="211,56,343,83"/>
<area shape="rect" href="class_directory.html#abf5550df42587bbc604c71441a4d12fc" title=" " alt="" coords="205,107,348,133"/>
<area shape="rect" href="class_open_file_table_entry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="5,49,157,90"/>
</map>
</div>

</div>
</div>
<a id="a1099a20b5ca3009ba75ba05492528682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1099a20b5ca3009ba75ba05492528682">&#9670;&nbsp;</a></span>SetDir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileHeader::SetDir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark this header as a directory header. </p>
<p>Mark this file as a directory. </p>

</div>
</div>
<a id="aa154a9b7f22b2c170b9545c627251d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa154a9b7f22b2c170b9545c627251d92">&#9670;&nbsp;</a></span>SetFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileHeader::SetFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark this header as a file header. </p>
<p>Mark this file as a file and not a directory. </p>

</div>
</div>
<a id="ab896cc7dd7274e3f8072da2c7d9beee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab896cc7dd7274e3f8072da2c7d9beee8">&#9670;&nbsp;</a></span>WriteBack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileHeader::WriteBack </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>back to disk </p>
<p>Write modifications to file header</p>
<p>Write the modified contents of the file header back to disk.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sector</td><td>is the disk sector to contain the file header </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_file_header_ab896cc7dd7274e3f8072da2c7d9beee8_icgraph.png" border="0" usemap="#class_file_header_ab896cc7dd7274e3f8072da2c7d9beee8_icgraph" alt=""/></div>
<map name="class_file_header_ab896cc7dd7274e3f8072da2c7d9beee8_icgraph" id="class_file_header_ab896cc7dd7274e3f8072da2c7d9beee8_icgraph">
<area shape="rect" title="back to disk" alt="" coords="571,56,724,83"/>
<area shape="rect" href="class_open_file.html#ad4b5d26a169a7c22e6f27c1693adb1aa" title=" " alt="" coords="396,56,523,83"/>
<area shape="rect" href="class_open_file.html#a2de8d2d805fef3510bfd2fdf46f683fa" title=" " alt="" coords="220,5,333,32"/>
<area shape="rect" href="class_bit_map.html#a19052d41ba5a654c7e478582dffba20d" title=" " alt="" coords="211,56,343,83"/>
<area shape="rect" href="class_directory.html#abf5550df42587bbc604c71441a4d12fc" title=" " alt="" coords="205,107,348,133"/>
<area shape="rect" href="class_open_file_table_entry.html#a3db43ff60517c9949bb89a499c7304a8" title=" " alt="" coords="5,49,157,90"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>filesys/<a class="el" href="filehdr_8hpp_source.html">filehdr.hpp</a></li>
<li>filesys/<a class="el" href="filehdr_8cpp.html">filehdr.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_file_header.html">FileHeader</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
